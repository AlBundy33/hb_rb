<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>mkvmerge -- Merge multimedia streams into a Matroska file</title>
      <link rel="stylesheet" type="text/css" href="mkvtoolnix-doc.css">
   </head>
   <body>
      <div class="heading">mkvmerge -- Merge multimedia streams into a <span class="productname">Matroska</span><sup>(tm)</sup> file
      </div>
      <hr>
      <div id="toc" class="toc">
         <h1>Table of contents</h1>
         <ul>
            <li><a href="#mkvmerge.synopsis">1. Synopsis</a></li>
            <li><a href="#mkvmerge.description">2. Description</a></li>
            <li><a href="#mkvmerge.usage">3. Usage</a></li>
            <li><a href="#mkvmerge.option_order">4. Option order</a></li>
            <li><a href="#mkvmerge.examples">5. Examples</a></li>
            <li><a href="#mkvmerge.track_ids">6. Track IDs</a></li>
            <li><a href="#mkvmerge.text_files_and_charsets">7. Text files and character set conversions</a></li>
            <li><a href="#mkvmerge.option_files">8. Option files</a></li>
            <li><a href="#mkvmerge.escaping">9. Escaping special chars in text</a></li>
            <li><a href="#mkvmerge.subtitles">10. Subtitles</a></li>
            <li><a href="#mkvmerge.file_linking">11. File linking</a></li>
            <li><a href="#mkvmerge.default_values">12. Default values</a></li>
            <li><a href="#mkvmerge.attachments">13. Attachments</a></li>
            <li><a href="#mkvmerge.chapters">14. Chapters</a></li>
            <li><a href="#mkvmerge.tags">15. Tags</a></li>
            <li><a href="#mkvmerge.segmentinfo">16. The segment info XML files</a></li>
            <li><a href="#mkvmerge.file_layout">17. Matroska file layout</a></li>
            <li><a href="#mkvmerge.external_timecode_files">18. External timecode files</a></li>
            <li><a href="#mkvmerge.exit_codes">19. Exit codes</a></li>
            <li><a href="#mkvmerge.environment_variables">20. Environment variables</a></li>
            <li><a href="#mkvmerge.seealso">21. See also</a></li>
            <li><a href="#mkvmerge.www">22. WWW</a></li>
         </ul>
      </div>
      <div class="content">
         <h1><a name="mkvmerge.synopsis">1. Synopsis</a></h1>
         
         
         <div class="cmdsynopsis"><span class="commandname">mkvmerge</span> global options {-o out} options1 {file1} options2 {file2} @optionsfile
         </div>
         
         <h1><a name="mkvmerge.description">2. Description</a></h1>
         
         
         <p>
            This program takes the input from several media files and joins their streams (all
            of them or just a selection) into
            a <span class="productname">Matroska</span><sup>(tm)</sup> file; see <a href="http://www.matroska.org/">the Matroska website</a>.
            
         </p>
         
         
         <div class="important">
            <p class="important-title">Important:</p>
            
            <p>
               The order of command line options is important. Please read the section <a href="#mkvmerge.option_order">"Option
                  order"</a> if you're new to the program.
               
            </p>
            
         </div>
         
         
         <h2><a name="d4e129">2.1. Global options</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">-v</span>, <span class="option">--verbose</span></td>
                  <td>
                     
                     <p>Increase verbosity.</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-q</span>, <span class="option">--quiet</span></td>
                  <td>
                     
                     <p>Suppress status output.</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-o</span>, <span class="option">--output</span> <span class="parameter">file-name</span></td>
                  <td>
                     
                     <p>Write to the file <span class="parameter">file-name</span>.  If splitting is used then this parameter is treated a bit differently.  See
                        the explanation for the <a href="#mkvmerge.description.split">--split</a> option for details.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-w</span>, <span class="option">--webm</span></td>
                  <td>
                     
                     <p>Create a WebM compliant file. This is also turned on if the output file name's extension
                        is "webm". This mode
                        enforces several restrictions. The only allowed codecs are VP8 video and Vorbis audio
                        tracks. Neither chapters nor tags are
                        allowed. The DocType header item is changed to "webm".
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.title"><span class="option">--title</span> <span class="parameter">title</span></a></td>
                  <td>
                     
                     <p>Sets the general title for the output file, e.g. the movie name.</p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--default-language</span> <span class="parameter">language-code</span></td>
                  <td>
                     
                     <p>Sets the default language code that will be used for all tracks unless overwritten
                        with the <a href="#mkvmerge.description.language">--language</a> option. The default language code is
                        '<span class="literal">und</span>' for 'undefined'.
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e252">2.2. Segment info handling (global options)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">--segmentinfo</span> <span class="parameter">filename.xml</span></td>
                  <td>
                     
                     <p>
                        Read segment information from a <span class="abbrev">XML</span> file. This file can contain the segment family <span class="abbrev">UID</span>, segment
                        <span class="abbrev">UID</span>, previous and next segment <span class="abbrev">UID</span> elements. An example file and a <span class="abbrev">DTD</span> are included
                        in the MKVToolNix distribution.
                        
                     </p>
                     
                     
                     <p>
                        See the section about <a href="#mkvmerge.segmentinfo">segment info XML files</a> below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--segment-uid</span> <span class="parameter">SID1,SID2,...</span></td>
                  <td>
                     
                     <p>
                        Sets the segment UIDs to use. This is a comma-separated list of 128bit segment UIDs
                        in the usual UID form: hex numbers with or without
                        the "0x" prefix, with or without spaces, exactly 32 digits.
                        
                     </p>
                     
                     
                     <p>
                        Each file created contains one segment, and each segment has one segment UID. If more
                        segment UIDs are specified than segments are
                        created then the surplus UIDs are ignored. If fewer UIDs are specified than segments
                        are created then random UIDs will be created for
                        them.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e318">2.3. Chapter and tag handling (global options)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">--chapter-language</span> <span class="parameter">language-code</span></td>
                  <td>
                     
                     <p>
                        Sets the ISO639-2 language code that is written for each chapter entry.  Defaults
                        to '<span class="literal">eng</span>'.  See the section about
                        <a href="#mkvmerge.chapters">chapters</a> below for details.
                        
                     </p>
                     
                     
                     <p>
                        This option can be used both for simple chapter files and for source files that contain
                        chapters but no information about the
                        chapters' language, e.g. MP4 and OGM files.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.chapter_charset"><span class="option">--chapter-charset</span> <span class="parameter">character-set</span></a></td>
                  <td>
                     
                     <p>
                        Sets the character set that is used for the conversion to UTF-8 for simple chapter
                        files. See the section about <a href="#mkvmerge.text_files_and_charsets"> text files and character sets</a> for an explanation how <span class="productname">mkvmerge</span>(1) converts between
                        character sets.
                        
                     </p>
                     
                     
                     <p>
                        This switch does also apply to chapters that are copied from certain container types,
                        e.g. Ogg/OGM and MP4 files.
                        See the section about chapters below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cue-chapter-name-format</span> <span class="parameter">format</span></td>
                  <td>
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) supports reading <span class="abbrev">CUE</span> sheets for audio files as the input for chapters. <span class="abbrev">CUE</span> sheets usually
                        contain the entries <span class="varname">PERFORMER</span> and <span class="varname">TITLE</span> for each index entry. <span class="productname">mkvmerge</span>(1) uses these two strings
                        in order to construct the chapter name. With this option the format used for this
                        name can be set.
                        
                     </p>
                     
                     
                     <p>
                        If this option is not given then <span class="productname">mkvmerge</span>(1) defaults to the format '<span class="code">%p - %t</span>' (the performer, followed by a space, a dash,
                        another space and the title).
                        
                     </p>
                     
                     
                     <p>
                        If the format is given then everything except the following meta characters is copied
                        as-is, and the meta
                        characters are replaced like this:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p><span class="parameter">%p</span> is replaced by the current entry's <span class="varname">PERFORMER</span> string,
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%t</span> is replaced by the current entry's <span class="varname">TITLE</span> string,
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%n</span> is replaced by the current track number and
                           </p>
                           
                        </li>
                        
                        <li>
                           
                           <p><span class="parameter">%N</span> is replaced by the current track number padded with a leading zero if
                              it is &lt; 10.
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chapters</span> <span class="parameter">file-name</span></td>
                  <td>
                     
                     <p>
                        Read chapter information from the file <span class="parameter">file-name</span>. See the section about <a href="#mkvmerge.chapters">chapters</a> below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.global_tags"><span class="option">--global-tags</span> <span class="parameter">file-name</span></a></td>
                  <td>
                     
                     <p>
                        Read global tags from the file <span class="parameter">file-name</span>. See the section about <a href="#mkvmerge.tags">tags</a> below
                        for details.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e521">2.4. General output control (advanced global options)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">--track-order</span> <span class="parameter">FID1:TID1,FID2:TID2,...</span></td>
                  <td>
                     
                     <p>
                        This option changes the order in which the tracks for an input file are created. The
                        argument is a comma separated list of pairs
                        IDs. Each pair contains first the file ID (<span class="parameter">FID1</span>) which is simply the number of the file on the command line
                        starting at 0. The second is a track ID (<span class="parameter">TID1</span>) from that file.  If some track IDs are omitted then those tracks
                        are created after the ones given with this option have been created.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cluster-length</span> <span class="parameter">spec</span></td>
                  <td>
                     
                     <p>
                        Limit the number of data blocks or the duration of data in each cluster. The <span class="parameter">spec</span> parameter can either be a
                        number <span class="parameter">n</span> without a unit or a number <span class="parameter">d</span> postfixed with '<span class="literal">ms</span>'.
                        
                     </p>
                     
                     
                     <p>
                        If no unit is used then <span class="productname">mkvmerge</span>(1) will put at most <span class="parameter">n</span> data blocks into each cluster. The maximum number of
                        blocks is 65535.
                        
                     </p>
                     
                     
                     <p>
                        If the number <span class="parameter">d</span> is postfixed with '<span class="literal">ms</span>' then <span class="productname">mkvmerge</span>(1) puts at most <span class="parameter">d</span>
                        milliseconds of data into each cluster. The minimum for <span class="parameter">d</span> is '<span class="literal">100ms</span>', and the maximum is
                        '<span class="literal">32000ms</span>'.
                        
                     </p>
                     
                     
                     <p>
                        <span class="productname">mkvmerge</span>(1) defaults to putting at most 65535 data blocks and 5000ms of data into a cluster.
                        
                     </p>
                     
                     
                     <p>
                        Programs trying to find a certain frame can only seek directly to a cluster and have
                        to read the whole cluster afterwards. Therefore
                        creating larger clusters may lead to imprecise or slow seeking.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_cues"><span class="option">--no-cues</span></a></td>
                  <td>
                     
                     <p>
                        Tells <span class="productname">mkvmerge</span>(1) not to create and write the cue data which can be compared to an index in an AVI.
                        <span class="productname">Matroska</span><sup>(tm)</sup> files can be played back
                        without the cue data, but seeking will probably be imprecise and slower. Use this
                        only if you're really desperate for space or for
                        testing purposes. See also option <a href="#mkvmerge.description.cues">--cues</a> which can be specified for
                        each input file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--clusters-in-meta-seek</span></td>
                  <td>
                     
                     <p>
                        Tells <span class="productname">mkvmerge</span>(1) to create a meta seek element at the end of the file containing all clusters. See
                        also the section about the
                        <a href="#mkvmerge.file_layout">Matroska file layout</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--disable-lacing</span></td>
                  <td>
                     
                     <p>
                        Disables lacing for all tracks. This will increase the file's size, especially if
                        there are many audio tracks. This option is not
                        intended for everyday use.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--enable-durations</span></td>
                  <td>
                     
                     <p>
                        Write durations for all blocks. This will increase file size and does not offer any
                        additional value for players at the moment.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.timecode_scale"><span class="option">--timecode-scale</span> <span class="parameter">factor</span></a></td>
                  <td>
                     
                     <p>
                        Forces the timecode scale factor to <span class="parameter">factor</span>. Valid values are in the range
                        <span class="constant">1000</span>..<span class="constant">10000000</span> or the special value <span class="constant">-1</span>.
                        
                     </p>
                     
                     
                     <p>
                        Normally <span class="productname">mkvmerge</span>(1) will use a value of <span class="constant">1000000</span> which means that timecodes and durations will have a precision of
                        1ms. For files that will not contain a video track but at least one audio track <span class="productname">mkvmerge</span>(1) will automatically chose a timecode scale
                        factor so that all timecodes and durations have a precision of one audio sample. This
                        causes bigger overhead but allows precise
                        seeking and extraction.
                        
                     </p>
                     
                     
                     <p>
                        If the special value <span class="constant">-1</span> is used then <span class="productname">mkvmerge</span>(1) will use sample precision even if a video track is present.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e767">2.5. File splitting, linking, appending and concatenation (more global options)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.split"><span class="option">--split</span> <span class="parameter">specification</span></a></td>
                  <td>
                     
                     <p>
                        Splits the output file after a given size or a given time.  Please note that tracks
                        can only be split right before a key frame.  Due
                        to buffering <span class="productname">mkvmerge</span>(1) will split right before the next key frame after the split point has been reached.
                        Therefore the split point
                        may be a bit off from what the user has specified.
                        
                     </p>
                     
                     
                     <p>
                        At the moment <span class="productname">mkvmerge</span>(1) supports four different modes.
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>
                              Splitting by size.
                              
                           </p>
                           
                           
                           <p>
                              Syntax: <span class="option">--split</span> [<span class="literal">size:</span>]<span class="parameter">d</span>[k|m|g]
                              
                           </p>
                           
                           
                           <p>
                              Examples: <span class="code">--split size:700m</span> or <span class="code">--split 150000000</span>
                              
                           </p>
                           
                           
                           <p>
                              The parameter <span class="parameter">d</span> may end with '<span class="literal">k</span>', '<span class="literal">m</span>' or '<span class="literal">g</span>' to
                              indicate that the size is in KB, MB or GB respectively.  Otherwise a size in bytes
                              is assumed.  After the current output file has
                              reached this size limit a new one will be started.
                              
                           </p>
                           
                           
                           <p>
                              The '<span class="literal">size:</span>' prefix may be omitted for compatibility reasons.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Splitting after a duration.
                              
                           </p>
                           
                           
                           <p>
                              Syntax: <span class="option">--split</span> [<span class="literal">duration:</span>]<span class="parameter">HH:MM:SS.nnnnnnnnn</span>|<span class="parameter">d</span>s
                              
                           </p>
                           
                           
                           <p>
                              Examples: <span class="code">--split duration:00:60:00.000</span> or <span class="code">--split 3600s</span>
                              
                           </p>
                           
                           
                           <p>
                              The parameter must either have the form <span class="parameter">HH:MM:SS.nnnnnnnnn</span> for specifying the duration in up to nano-second
                              precision or be a number <span class="parameter">d</span> followed by the letter '<span class="literal">s</span>' for the duration in
                              seconds. <span class="parameter">HH</span> is the number of hours, <span class="parameter">MM</span> the number of minutes,
                              <span class="parameter">SS</span> the number of seconds and <span class="parameter">nnnnnnnnn</span> the number of nanoseconds.  Both the number of
                              hours and the number of nanoseconds can be omitted.  There can be up to nine digits
                              after the decimal point.  After the duration of
                              the contents in the current output has reached this limit a new output file will be
                              started.
                              
                           </p>
                           
                           
                           <p>
                              The '<span class="literal">duration:</span>' prefix may be omitted for compatibility reasons.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Splitting after specific timecodes.
                              
                           </p>
                           
                           
                           <p>
                              Syntax: <span class="option">--split</span> <span class="literal">timecodes:</span><span class="parameter">A</span>[,<span class="parameter">B</span>[,<span class="parameter">C</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Example: <span class="code">--split timecodes:00:45:00.000,01:20:00.250,6300s</span>
                              
                           </p>
                           
                           
                           <p>
                              The parameters <span class="parameter">A</span>, <span class="parameter">B</span>, <span class="parameter">C</span> etc must all have the same format as the
                              ones used for the duration (see above). The list of timecodes is separated by commas.
                              After the input stream has reached the
                              current split point's timecode a new file is created. Then the next split point given
                              in this list is used.
                              
                           </p>
                           
                           
                           <p>
                              The '<span class="literal">timecodes:</span>' prefix must not be omitted.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Keeping specific parts by specifying timecode ranges while discarding others.
                              
                           </p>
                           
                           
                           <p>
                              Syntax: <span class="option">--split</span> <span class="literal">parts:</span><span class="parameter">start1</span>-<span class="parameter">end1</span>[,[+]<span class="parameter">start2</span>-<span class="parameter">end2</span>[,[+]<span class="parameter">start3</span>-<span class="parameter">end3</span>...]]
                              
                           </p>
                           
                           
                           <p>
                              Examples:
                              
                              <ol>
                                 
                                 <li>
                                    <p><span class="code">--split parts:00:01:20-00:02:45,00:05:50-00:10:30</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts:00:01:20-00:02:45,+00:05:50-00:10:30</span></p>
                                 </li>
                                 
                                 <li>
                                    <p><span class="code">--split parts:-00:02:45,00:05:50-</span></p>
                                 </li>
                                 
                              </ol>
                              
                           </p>
                           
                           
                           <p>
                              The <span class="literal">parts</span> mode tells <span class="productname">mkvmerge</span>(1) to keep certain ranges of timecodes while discarding others. The ranges to keep
                              have to be listed after the <span class="literal">parts:</span> keyword and be separated by commas. A range itself consists of a start and an
                              end timecode in the same format the other variations of <span class="parameter">--split</span> accept (e.g. both
                              <span class="literal">00:01:20</span> and <span class="literal">80s</span> refer to the same timecode).
                              
                           </p>
                           
                           
                           <p>
                              If a start timecode is left out then it defaults to the previous range's end timecode.
                              If there was no previous range then it
                              defaults to the start of the file (see example 3).
                              
                           </p>
                           
                           
                           <p>
                              If an end timecode is left out then it defaults to the end of the source files which
                              basically tells mkvmerge to keep the rest (see
                              example 3).
                              
                           </p>
                           
                           
                           <p>
                              Normally each range will be written to a new file. This can be changed so that consecutive
                              ranges are written to the same file. For
                              that the user has to prefix the start timecode with a <span class="literal">+</span>. This tells mvkmerge not to create a new file and
                              instead append the range to the same file the previous range was written to. Timecodes
                              will be adjusted so that there will be no
                              gap in the output file even if there was a gap in the two ranges in the input file.
                              
                           </p>
                           
                           
                           <p>
                              In example 1 mkvmerge will create two files. The first will contain the content starting
                              from <span class="literal">00:01:20</span> until
                              <span class="literal">00:02:45</span>. The second file will contain the content starting from <span class="literal">00:05:50</span> until
                              <span class="literal">00:10:30</span>.
                              
                           </p>
                           
                           
                           <p>
                              In example 2 mkvmerge will create only one file. This file will contain both the content
                              starting from <span class="literal">00:01:20</span>
                              until <span class="literal">00:02:45</span> and the content starting from <span class="literal">00:05:50</span> until <span class="literal">00:10:30</span>.
                              
                           </p>
                           
                           
                           <p>
                              In example 3 mkvmerge will create two files. The first will contain the content from
                              the start of the source files until
                              <span class="literal">00:02:45</span>. The second file will contain the content starting from <span class="literal">00:05:50</span> until the end of
                              the source files.
                              
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                     
                     <p>
                        For this splitting mode the output filename is treated differently than for the normal
                        operation. It may contain a
                        <span class="function">printf</span> like expression '<span class="code">%d</span>' including an optional field width,
                        e.g. '<span class="code">%02d</span>'. If it does then the current file number will be formatted appropriately and inserted
                        at that point
                        in the filename.  If there is no such pattern then a pattern of '<span class="code">-%03d</span>' is assumed right before the file's
                        extension: '<span class="code">-o output.mkv</span>' would result in '<span class="code">output-001.mkv</span>' and so on. If there's no extension
                        then '<span class="code">-%03d</span>' will be appended to the name.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.link"><span class="option">--link</span></a></td>
                  <td>
                     
                     <p>
                        Link files to one another when splitting the output file. See the section on <a href="#mkvmerge.file_linking">file linking</a>
                        below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--link-to-previous</span> <span class="parameter">segment-UID</span></td>
                  <td>
                     
                     <p>
                        Links the first output file to the segment with the segment UID given by the <span class="parameter">segment-UID</span> parameter. See the
                        section on <a href="#mkvmerge.file_linking">file linking</a> below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--link-to-next</span> <span class="parameter">segment-UID</span></td>
                  <td>
                     
                     <p>
                        Links the last output file to the segment with the segment UID given by the <span class="parameter">segment-UID</span> parameter. See the
                        section on <a href="#mkvmerge.file_linking">file linking</a> below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--append-mode</span> <span class="parameter">mode</span></td>
                  <td>
                     
                     <p>
                        Determines how timecodes are calculated when appending files.  The parameter <span class="parameter">mode</span> can have two values:
                        '<span class="literal">file</span>' which is also the default and '<span class="literal">track</span>'.
                        
                     </p>
                     
                     
                     <p>
                        When mkvmerge appends a track (called '<span class="literal">track2_1</span>' from now on) from a second file (called
                        '<span class="literal">file2</span>') to a track (called '<span class="literal">track1_1</span>') from the first file (called '<span class="literal">file1</span>')
                        then it has to offset all timecodes for '<span class="literal">track2_1</span>' by an amount.  For '<span class="literal">file</span>' mode this amount is
                        the highest timecode encountered in '<span class="literal">file1</span>' even if that timecode was from a different track than
                        '<span class="literal">track1_1</span>'. In track mode the offset is the highest timecode of '<span class="literal">track1_1</span>'.
                        
                     </p>
                     
                     
                     <p>
                        Unfortunately mkvmerge cannot detect which mode to use reliably. Therefore it defaults
                        to '<span class="literal">file</span>'
                        mode. '<span class="literal">file</span>' mode usually works better for files that have been created independently of each
                        other; e.g. when
                        appending <span class="abbrev">AVI</span> or <span class="abbrev">MP4</span> files. '<span class="literal">track</span>' mode may work better for sources that are
                        essentially just parts of one big file, e.g. for <span class="abbrev">VOB</span> and <span class="abbrev">EVO</span> files.
                        
                     </p>
                     
                     
                     <p>
                        Subtitle tracks are always treated as if '<span class="literal">file</span>' mode were active even if '<span class="literal">track</span>' mode actually
                        is.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--append-to</span> <span class="parameter">SFID1:STID1:DFID1:DTID1[,...]</span></td>
                  <td>
                     
                     <p>
                        This option controls to which track another track is appended.  Each spec contains
                        four IDs: a file ID, a track ID, a second file ID
                        and a second track ID.  The first pair, "source file ID" and "source track ID", identifies
                        the track that is to be appended.  The
                        second pair, "destination file ID" and "destination track ID", identifies the track
                        the first one is appended to.
                        
                     </p>
                     
                     
                     <p>
                        If this option has been omitted then a standard mapping is used.  This standard mapping
                        appends each track from the current file to a
                        track from the previous file with the same track ID.  This allows for easy appending
                        if a movie has been split into two parts and both
                        file have the same number of tracks and track IDs with the command <span class="command">mkvmerge -o output.mkv part1.mkv +part2.mkv</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">+</span></td>
                  <td>
                     
                     <p>
                        A single '+' causes the next file to be appended instead of added. The '+' can also
                        be put in front of the next file name. Therefore
                        the following two commands are equivalent:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o full.mkv file1.mkv + file2.mkv
$ mkvmerge -o full.mkv file1.mkv +file2.mkv</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.prevent_concatenation"><span class="option">=</span></a></td>
                  <td>
                     
                     <p>
                        Normally <span class="productname">mkvmerge</span>(1) looks for files in the same directory as an input file that have the same base name
                        and only differ in their
                        running number (e.g. 'VTS_01_1.VOB', 'VTS_01_2.VOB', 'VTS_01_3.VOB' etc) and treats
                        all of those files as if they were concatenated
                        into a single big file. This option, a single '=', causes mkvmerge not to look for
                        those additional files.
                        
                     </p>
                     
                     
                     <p>
                        The '=' can also be put in front of the next file name. Therefore the following two
                        commands are equivalent:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o full.mkv = file1.mkv
$ mkvmerge -o full.mkv =file1.mkv</pre>
                     </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.concatenation"><span class="option">(</span> <span class="parameter">file1</span> <span class="parameter">file2</span> <span class="option">)</span></a></td>
                  <td>
                     
                     <p>
                        If multiple file names are contained in a pair of parenthesis then those files will
                        be treated as if they were concatenated into a
                        single big file consisting of the content of each of the files one after the other.
                        
                     </p>
                     
                     
                     <p>
                        This can be used for e.g. VOB files coming from a DVD or MPEG transport streams. It
                        cannot be used if each file contains its own set
                        of headers which is usually the case with stand-alone files like AVI or MP4.
                        
                     </p>
                     
                     
                     <p>
                        Putting a file name into parenthesis also prevents <span class="productname">mkvmerge</span>(1) from looking for additional files with the same base name as described
                        in <a href="#mkvmerge.description.prevent_concatenation">option =</a>. Therefore these two command lines are
                        equivalent:
                        
                     </p>
                     
                     <pre class="screen">$ mkvmerge -o out.mkv = file.mkv
$ mkvmerge -o out.mkv '(' file.mkv ')'</pre>
                     
                     <p>
                        Several things should be noted:
                        
                     </p>
                     
                     
                     <ol>
                        
                        <li>
                           
                           <p>
                              There must be spaces both after the opening and before the closing parenthesis.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Every parameter between parenthesis is interpreted as a file name. Therefore all options
                              applying to this logical file must be listed before the opening parenthesis.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              Some shells treat parenthesis as special characters. Hence you must escape or quote
                              them as shown in the example above.
                              
                           </p>
                           
                        </li>
                        
                     </ol>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         
         <h2><a name="d4e1416">2.6. Attachment support (more global options)</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachment_description"><span class="option">--attachment-description</span> <span class="parameter">description</span></a></td>
                  <td>
                     
                     <p>
                        Plain text description of the following attachment. Applies to the next <a href="#mkvmerge.description.attach_file">--attach-file</a> or <span class="option">--attach-file-once</span> option.
                        
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--attachment-mime-type</span> <span class="parameter">MIME type</span></td>
                  <td>
                     
                     <p>
                        <span class="abbrev">MIME</span> type of the following attachment. Applies to the next <a href="#mkvmerge.description.attach_file">--attach-file</a> or <a href="#mkvmerge.description.attach_file">--attach-file-once</a> option.  A list of officially recognized
                        <span class="abbrev">MIME</span> types can be found e.g. at <a href="http://www.iana.org/assignments/media-types/">the IANA
                           homepage</a>. The <span class="abbrev">MIME</span> type is mandatory for an attachment.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--attachment-name</span> <span class="parameter">name</span></td>
                  <td>
                     
                     <p>
                        Sets the name that will be stored in the output file for this attachment.  If this
                        option is not given then the name will be derived
                        from the file name of the attachment as given with the <a href="#mkvmerge.description.attach_file">--attach-file</a> or the <a href="#mkvmerge.description.attach_file">--attach-file-once</a> option.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attach_file">
                        <span class="option">--attach-file</span> <span class="parameter">file-name</span>,
                        <span class="option">--attach-file-once</span> <span class="parameter">file-name</span>
                        </a></td>
                  <td>
                     
                     <p>
                        Creates a file attachment inside the <span class="productname">Matroska</span><sup>(tm)</sup> file. The <span class="abbrev">MIME</span> type must have been set before this option can used. The
                        difference between the two forms is that during splitting the files attached with
                        <span class="option">--attach-file</span> are attached to all
                        output files while the ones attached with <span class="option">--attach-file-once</span> are only attached to the first file created.  If
                        splitting is not used then both do the same.
                        
                     </p>
                     
                     
                     <p>
                        <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> can be used to extract attached files from a <span class="productname">Matroska</span><sup>(tm)</sup> file.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e1557">2.7. Options that can be used for each input file</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">-a</span>, <span class="option">--audio-tracks</span> <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        Copy the audio tracks <span class="parameter">n</span>, <span class="parameter">m</span> etc. The numbers are track IDs which can be obtained with the
                        <a href="#mkvmerge.description.identify">--identify</a> switch. They're not simply the track numbers (see
                        section <a href="#mkvmerge.track_ids">track IDs</a>). Default: copy all audio tracks.
                        
                     </p>
                     
                     
                     <p>
                        If the IDs are prefixed with <span class="literal">!</span> then the meaning is reversed: copy everything but the IDs listed after the
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-d</span>, <span class="option">--video-tracks</span> <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        Copy the video tracks <span class="parameter">n</span>, <span class="parameter">m</span> etc. The numbers are track IDs which can be obtained with the
                        <a href="#mkvmerge.description.identify">--identify</a> switch. They're not simply the track numbers (see
                        section <a href="#mkvmerge.track_ids">track IDs</a>). Default: copy all video tracks.
                        
                     </p>
                     
                     
                     <p>
                        If the IDs are prefixed with <span class="literal">!</span> then the meaning is reversed: copy everything but the IDs listed after the
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-s</span>, <span class="option">--subtitle-tracks</span> <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        Copy the subtitle tracks <span class="parameter">n</span>, <span class="parameter">m</span> etc. The numbers are track IDs which can be obtained with
                        the <a href="#mkvmerge.description.identify">--identify</a> switch. They're not simply the track numbers (see
                        section <a href="#mkvmerge.track_ids">track IDs</a>). Default: copy all subtitle tracks.
                        
                     </p>
                     
                     
                     <p>
                        If the IDs are prefixed with <span class="literal">!</span> then the meaning is reversed: copy everything but the IDs listed after the
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-b</span>, <span class="option">--button-tracks</span> <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        Copy the button tracks <span class="parameter">n</span>, <span class="parameter">m</span> etc. The numbers are track IDs which can be obtained with
                        the <a href="#mkvmerge.description.identify">--identify</a> switch. They're not simply the track numbers (see
                        section <a href="#mkvmerge.track_ids">track IDs</a>). Default: copy all button tracks.
                        
                     </p>
                     
                     
                     <p>
                        If the IDs are prefixed with <span class="literal">!</span> then the meaning is reversed: copy everything but the IDs listed after the
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--track-tags</span> <span class="parameter">[!]n,m,...</span></td>
                  <td>
                     
                     <p>
                        Copy the tags for tracks <span class="parameter">n</span>, <span class="parameter">m</span> etc.  The numbers are track IDs which can be obtained with
                        the <a href="#mkvmerge.description.identify">--identify</a> switch (see section <a href="#mkvmerge.track_ids">track IDs</a>).  They're not simply the track numbers.  Default: copy tags for all tracks.
                        
                     </p>
                     
                     
                     <p>
                        If the IDs are prefixed with <span class="literal">!</span> then the meaning is reversed: copy everything but the IDs listed after the
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.attachments"><span class="option">-m</span>, <span class="option">--attachments</span> <span class="parameter">[!]n[:all|first],m[:all|first],...</span></a></td>
                  <td>
                     
                     <p>
                        Copy the attachments with the IDs <span class="parameter">n</span>, <span class="parameter">m</span> etc to all or only the first output file. Each ID
                        can be followed by either '<span class="literal">:all</span>' (which is the default if neither is entered) or '<span class="literal">:first</span>'. If
                        splitting is active then those attachments whose IDs are specified with '<span class="literal">:all</span>' are copied to all of the resulting
                        output files while the others are only copied into the first output file. If splitting
                        is not active then both variants have the same
                        effect.
                        
                     </p>
                     
                     
                     <p>
                        The default is to copy all attachments to all output files.
                        
                     </p>
                     
                     
                     <p>
                        If the IDs are prefixed with <span class="literal">!</span> then the meaning is reversed: copy everything but the IDs listed after the
                        <span class="literal">!</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-A</span>, <span class="option">--no-audio</span></td>
                  <td>
                     
                     <p>
                        Don't copy any audio track from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-D</span>, <span class="option">--no-video</span></td>
                  <td>
                     
                     <p>
                        Don't copy any video track from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-S</span>, <span class="option">--no-subtitles</span></td>
                  <td>
                     
                     <p>
                        Don't copy any subtitle track from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-B</span>, <span class="option">--no-buttons</span></td>
                  <td>
                     
                     <p>
                        Don't copy any button track from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-T</span>, <span class="option">--no-track-tags</span></td>
                  <td>
                     
                     <p>
                        Don't copy any track specific tags from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_chapters"><span class="option">--no-chapters</span></a></td>
                  <td>
                     
                     <p>
                        Don't copy chapters from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.no_attachments"><span class="option">-M</span>, <span class="option">--no-attachments</span></a></td>
                  <td>
                     
                     <p>
                        Don't copy attachments from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--no-global-tags</span></td>
                  <td>
                     
                     <p>
                        Don't copy global tags from this file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chapter-charset</span> <span class="parameter">character-set</span></td>
                  <td>
                     
                     <p>
                        Sets the charset that is used for the conversion to UTF-8 for chapter information
                        contained in the source file. See the section about
                        <a href="#mkvmerge.text_files_and_charsets"> text files and character sets</a> for an explanation how <span class="productname">mkvmerge</span>(1) converts
                        between character sets.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--chapter-language</span> <span class="parameter">language-code</span></td>
                  <td>
                     
                     <p>
                        Sets the ISO639-2 language code that is written for each chapter entry.  This option
                        can be used for source files that contain
                        chapters but no information about the chapters' languages, e.g. for MP4 and OGM files.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-y</span>, <span class="option">--sync</span> <span class="parameter">TID:d[,o[/p]]</span></td>
                  <td>
                     
                     <p>
                        Adjust the timecodes of the track with the id <span class="parameter">TID</span> by <span class="parameter">d</span> ms. The track IDs are the same as
                        the ones given with <a href="#mkvmerge.description.identify">--identify</a> (see section <a href="#mkvmerge.track_ids">track IDs</a>).
                        
                     </p>
                     
                     
                     <p>
                        <span class="parameter">o</span>/<span class="parameter">p</span>: adjust the timestamps by <span class="parameter">o</span>/<span class="parameter">p</span> to fix
                        linear drifts. <span class="parameter">p</span> defaults to 1 if omitted. Both <span class="parameter">o</span> and <span class="parameter">p</span> can be
                        floating point numbers.
                        
                     </p>
                     
                     
                     <p>
                        Defaults: no manual sync correction (which is the same as <span class="parameter">d</span> = <span class="constant">0</span> and
                        <span class="parameter">o</span>/<span class="parameter">p</span> = <span class="constant">1.0</span>).
                        
                     </p>
                     
                     
                     <p>
                        This option can be used multiple times for an input file applying to several tracks
                        by selecting different track IDs each time.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.cues"><span class="option">--cues</span> <span class="parameter">TID:none|iframes|all</span></a></td>
                  <td>
                     
                     <p>
                        Controls for which tracks cue (index) entries are created for the given track (see
                        section <a href="#mkvmerge.track_ids">track
                           IDs</a>). '<span class="literal">none</span>' inhibits the creation of cue entries.  For '<span class="literal">iframes</span>' only blocks with
                        no backward or forward references ( = I frames in video tracks) are put into the cue
                        sheet. '<span class="literal">all</span>' causes
                        <span class="productname">mkvmerge</span>(1) to create cue entries for all blocks which will make the file very big.
                        
                     </p>
                     
                     
                     <p>
                        The default is '<span class="literal">iframes</span>' for video tracks and '<span class="literal">none</span>' for all others.  See also option <a href="#mkvmerge.description.no_cues">--no-cues</a> which inhibits the creation of cue entries regardless of the
                        <span class="option">--cues</span> options used.
                        
                     </p>
                     
                     
                     <p>
                        This option can be used multiple times for an input file applying to several tracks
                        by selecting different track IDs each time.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--default-track</span> <span class="parameter">TID[:bool]</span></td>
                  <td>
                     
                     <p>
                        Sets the 'default' flag for the given track (see section <a href="#mkvmerge.track_ids">track IDs</a>) if the optional argument
                        <span class="parameter">bool</span> is not present.  If the user does not explicitly select a track himself then the
                        player should prefer the
                        track that has his 'default' flag set. Only one track of each kind (audio, video,
                        subtitles, buttons) can have his 'default' flag set.
                        If the user wants no track to have the default track flag set then he has to set <span class="parameter">bool</span> to <span class="constant">0</span>
                        for all tracks.
                        
                     </p>
                     
                     
                     <p>
                        This option can be used multiple times for an input file applying to several tracks
                        by selecting different track IDs each time.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--forced-track</span> <span class="parameter">TID[:bool]</span></td>
                  <td>
                     
                     <p>
                        Sets the 'forced' flag for the given track (see section <a href="#mkvmerge.track_ids">track IDs</a>) if the optional argument
                        <span class="parameter">bool</span> is not present. A player must play all tracks for which this flag is set to <span class="constant">1</span>.
                        
                     </p>
                     
                     
                     <p>
                        This option can be used multiple times for an input file applying to several tracks
                        by selecting different track IDs each time.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--blockadd</span> <span class="parameter">TID:level</span></td>
                  <td>
                     
                     <p>
                        Keep only the <span class="classname">BlockAdditions</span> up to the level <span class="parameter">level</span> for the given track.  The default is
                        to keep all levels.  This option only affects certain kinds of codecs like WAVPACK4.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.track_name"><span class="option">--track-name</span> <span class="parameter">TID:name</span></a></td>
                  <td>
                     
                     <p>
                        Sets the track name for the given track (see section <a href="#mkvmerge.track_ids">track IDs</a>) to
                        <span class="parameter">name</span>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.language"><span class="option">--language</span> <span class="parameter">TID:language</span></a></td>
                  <td>
                     
                     <p>
                        Sets the language for the given track (see section <a href="#mkvmerge.track_ids">track IDs</a>). Both ISO639-2 language codes
                        and ISO639-1 country codes are allowed. The country codes will be converted to language
                        codes automatically.  All languages including
                        their ISO639-2 codes can be listed with the <a href="#mkvmerge.description.list_languages">--list-languages</a> option.
                        
                     </p>
                     
                     
                     <p>
                        This option can be used multiple times for an input file applying to several tracks
                        by selecting different track IDs each time.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.tags"><span class="option">-t</span>, <span class="option">--tags</span> <span class="parameter">TID:file-name</span></a></td>
                  <td>
                     
                     <p>
                        Read tags for the track with the number <span class="parameter">TID</span> from the file <span class="parameter">file-name</span>. See the section
                        about <a href="#mkvmerge.tags">tags</a> below for details.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--aac-is-sbr</span> <span class="parameter">TID[:0|1]</span></td>
                  <td>
                     
                     <p>
                        Tells <span class="productname">mkvmerge</span>(1) that the track with the ID <span class="parameter">TID</span> is <span class="abbrev">SBR AAC</span> (also known as
                        <span class="abbrev">HE-AAC</span> or <span class="abbrev">AAC+</span>). This options is needed if a) the source file is an <span class="abbrev">AAC</span> file
                        (<em>not</em> for a <span class="productname">Matroska</span><sup>(tm)</sup> file) and b) the <span class="abbrev">AAC</span> file contains <span class="abbrev">SBR AAC</span> data.  The
                        reason for this switch is that it is technically impossible to automatically tell
                        normal <span class="abbrev">AAC</span> data from <span class="abbrev">SBR
                           AAC</span> data without decoding a complete <span class="abbrev">AAC</span> frame. As there are several patent issues with <span class="abbrev">AAC</span>
                        decoders <span class="productname">mkvmerge</span>(1) will never contain this decoding stage. So for <span class="abbrev">SBR AAC</span> files this switch is mandatory. The
                        resulting file might not play back correctly or even not at all if the switch was
                        omitted.
                        
                     </p>
                     
                     
                     <p>
                        If the source file is a <span class="productname">Matroska</span><sup>(tm)</sup> file then the <span class="classname">CodecID</span> should be enough to detect <span class="abbrev">SBR
                           AAC</span>. However, if the <span class="classname">CodecID</span> is wrong then this switch can be used to correct that.
                        
                     </p>
                     
                     
                     <p>
                        If mkvmerge wrongfully detects that an <span class="abbrev">AAC</span> file is <span class="abbrev">SBR</span> then you can add
                        '<span class="literal">:0</span>' to the track ID.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--timecodes</span> <span class="parameter">TID:file-name</span></td>
                  <td>
                     
                     <p>
                        Read the timecodes to be used for the specific track ID from <span class="parameter">file-name</span>.  These timecodes forcefully override
                        the timecodes that <span class="productname">mkvmerge</span>(1) normally calculates. Read the section about <a href="#mkvmerge.external_timecode_files">external
                           timecode files</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--default-duration</span> <span class="parameter">TID:x</span></td>
                  <td>
                     
                     <p>
                        Forces the default duration of a given track to the specified value.  Also modifies
                        the track's timecodes to match the default
                        duration.  The argument <span class="parameter">x</span> must be postfixed with '<span class="literal">s</span>', '<span class="literal">ms</span>',
                        '<span class="literal">us</span>', '<span class="literal">ns</span>', '<span class="literal">fps</span>', '<span class="literal">p</span>' or '<span class="literal">i</span>' to
                        specify the default duration in seconds, milliseconds, microseconds, nanoseconds,
                        'frames per second', 'progressive frames per
                        second' or 'interlaced frames per second' respectively. The number <span class="parameter">x</span> itself can be a floating point number or
                        a fraction.
                        
                     </p>
                     
                     
                     <p>
                        If the default duration is not forced then mkvmerge will try to derive the track's
                        default duration from the container and/or the
                        encoded bitstream for certain track types, e.g. AVC/h.264 or MPEG-2.
                        
                     </p>
                     
                     
                     <p>
                        This option can also be used to change the <span class="abbrev">FPS</span> of video tracks without having to use an external timecode file.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--nalu-size-length</span> <span class="parameter">TID:n</span></td>
                  <td>
                     
                     <p>
                        Forces the <span class="abbrev">NALU</span> size length to <span class="parameter">n</span> bytes.  This parameter is only used if the
                        <span class="foreignphrase">AVC/h.264</span> elementary stream packetizer is used.  If left out it defaults to 4 bytes, but there
                        are
                        files that contain frames or slices that are all smaller than 65536 bytes.  For such
                        files you can use this parameter and decrease
                        the size to 2.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.compression"><span class="option">--compression</span> <span class="parameter">TID:n</span></a></td>
                  <td>
                     
                     <p>
                        Selects the compression method to be used for the track. Note that the player also
                        has to support this method. Valid values are
                        '<span class="literal">none</span>', '<span class="literal">zlib</span>', '<span class="literal">lzo</span>'/'<span class="literal">lxo1x</span>',
                        '<span class="literal">bz2</span>'/'<span class="literal">bzlib</span>' and '<span class="literal">mpeg4_p2</span>'/'<span class="literal">mpeg4p2</span>'.  The values
                        '<span class="literal">lzo</span>'/'<span class="literal">lxo1x</span>' and '<span class="literal">bz2</span>'/'<span class="literal">bzlib</span>' are only available if
                        <span class="productname">mkvmerge</span>(1) has been compiled with support for the <span class="productname">liblzo</span><sup>(tm)</sup> and <span class="productname">bzlib</span><sup>(tm)</sup> compression libraries,
                        respectively.
                        
                     </p>
                     
                     <p>
                        The compression method '<span class="literal">mpeg4_p2</span>'/'<span class="literal">mpeg4p2</span>' is a special compression method called
                        '<span class="foreignphrase">header removal</span>' that is only available for <span class="abbrev">MPEG4</span> part 2 video tracks.
                        
                     </p>
                     
                     <p>
                        The default for some subtitle tracks is '<span class="literal">zlib</span>' compression. This compression method is also the one that most if
                        not all playback applications support. Support for other compression methods other
                        than '<span class="literal">none</span>' is not assured.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e2592">2.8. Options that only apply to video tracks</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">-f</span>, <span class="option">--fourcc</span> <span class="parameter">TID:FourCC</span></td>
                  <td>
                     
                     <p>
                        Forces the <span class="classname">FourCC</span> to the specified value. Works only for video tracks in the '<span class="foreignphrase">MS compatibility
                           mode</span>'.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.display_dimensions"><span class="option">--display-dimensions</span> <span class="parameter">TID:widthxheight</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">Matroska</span><sup>(tm)</sup> files contain two values that set the display properties that a player should scale
                        the image on playback to: display width
                        and display height.  These values can be set with this option, e.g. '<span class="literal">1:640x480</span>'.
                        
                     </p>
                     
                     
                     <p>
                        Another way to specify the values is to use the <a href="#mkvmerge.description.aspect_ratio">--aspect-ratio</a> or the <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio-factor</a> option (see below).  These options
                        are mutually exclusive.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aspect_ratio"><span class="option">--aspect-ratio</span> <span class="parameter">TID:ratio|width/height</span></a></td>
                  <td>
                     
                     <p>
                        <span class="productname">Matroska</span><sup>(tm)</sup> files contain two values that set the display properties that a player should scale
                        the image on playback to: display width
                        and display height.  With this option <span class="productname">mkvmerge</span>(1) will automatically calculate the display width and display height based on the
                        image's original width and height and the aspect ratio given with this option.  The
                        ratio can be given either as a floating point
                        number <span class="parameter">ratio</span> or as a fraction '<span class="parameter">width</span>/<span class="parameter">height</span>',
                        e.g. '<span class="literal">16/9</span>'.
                        
                     </p>
                     
                     
                     <p>
                        Another way to specify the values is to use the <a href="#mkvmerge.description.aspect_ratio_factor">--aspect-ratio-factor</a> or <a href="#mkvmerge.description.display_dimensions">--display-dimensions</a> options (see above and below). These
                        options are mutually exclusive.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.aspect_ratio_factor"><span class="option">--aspect-ratio-factor</span> <span class="parameter">TID:factor|n/d</span></a></td>
                  <td>
                     
                     <p>
                        Another way to set the aspect ratio is to specify a <span class="parameter">factor</span>. The original aspect ratio is first multiplied with
                        this <span class="parameter">factor</span> and used as the target aspect ratio afterwards.
                        
                     </p>
                     
                     
                     <p>
                        Another way to specify the values is to use the <a href="#mkvmerge.description.aspect_ratio">--aspect-ratio</a> or <a href="#mkvmerge.description.display_dimensions">--display-dimensions</a> options (see above). These options are
                        mutually exclusive.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--cropping</span> <span class="parameter">TID:left,top,right,bottom</span></td>
                  <td>
                     
                     <p>
                        Sets the pixel cropping parameters of a video track to the given values.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--stereo-mode</span> <span class="parameter">TID:n|keyword</span></td>
                  <td>
                     
                     <p>
                        Sets the stereo mode for the video track with the track ID <span class="parameter">TID</span>.  The mode can either be a number
                        <span class="parameter">n</span> between <span class="constant">0</span> and <span class="constant">14</span> or one of these keywords:
                        
                     </p>
                     
                     
                     <p>
                        '<span class="literal">mono</span>', '<span class="literal">side_by_side_left_first</span>', '<span class="literal">top_bottom_right_first</span>',
                        '<span class="literal">top_bottom_left_first</span>', '<span class="literal">checkerboard_right_first</span>',
                        '<span class="literal">checkerboard_left_first</span>', '<span class="literal">row_interleaved_right_first</span>',
                        '<span class="literal">row_interleaved_left_first</span>', '<span class="literal">column_interleaved_right_first</span>',
                        '<span class="literal">column_interleaved_left_first</span>', '<span class="literal">anaglyph_cyan_red</span>',
                        '<span class="literal">side_by_side_right_first</span>', '<span class="literal">anaglyph_green_magenta</span>',
                        '<span class="literal">both_eyes_laced_left_first</span>', '<span class="literal">both_eyes_laced_right_first</span>'.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e2837">2.9. Options that only apply to text subtitle tracks</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.sub_charset"><span class="option">--sub-charset</span> <span class="parameter">TID:character-set</span></a></td>
                  <td>
                     
                     <p>
                        Sets the character set for the conversion to UTF-8 for UTF-8 subtitles for the given
                        track ID. If not specified the charset will be
                        derived from the current locale settings. Note that a charset is not needed for subtitles
                        read from <span class="productname">Matroska</span><sup>(tm)</sup> files or from Kate
                        streams, as these are always stored in UTF-8. See the section about <a href="#mkvmerge.text_files_and_charsets"> text files and
                           character sets</a> for an explanation how <span class="productname">mkvmerge</span>(1) converts between character sets.
                        
                     </p>
                     
                     
                     <p>
                        This option can be used multiple times for an input file applying to several tracks
                        by selecting different track IDs each time.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="d4e2877">2.10. Other options</a></h2>
         
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identify"><span class="option">-i</span>, <span class="option">--identify</span> <span class="parameter">file-name</span></a></td>
                  <td>
                     
                     <p>
                        Will let <span class="productname">mkvmerge</span>(1) probe the single file and report its type, the tracks contained in the file and their
                        track IDs. If this option is
                        used then the only other option allowed is the filename.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.identify_verbose"><span class="option">-I</span>, <span class="option">--identify-verbose</span> <span class="parameter">file-name</span></a></td>
                  <td>
                     
                     <p>
                        Will let <span class="productname">mkvmerge</span>(1) probe the single file and report its type, the tracks contained in the file and their
                        track IDs. If this option is
                        used then the only other option allowed is the filename.
                        
                     </p>
                     
                     
                     <p>
                        This option causes <span class="productname">mkvmerge</span>(1) to output additional information about the container and each track within. The extra
                        information is
                        surronded by square brackets. It consists of space-saparated key/value pairs where
                        keys and values are separated by a colon.
                        
                     </p>
                     
                     
                     <p>
                        Each value is escaped according to the rules described in <a href="#mkvmerge.escaping">the section about escaping special
                           characters in text</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-l</span>, <span class="option">--list-types</span></td>
                  <td>
                     
                     <p>
                        Lists supported input file types.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.list_languages"><span class="option">--list-languages</span></a></td>
                  <td>
                     
                     <p>
                        Lists all languages and their ISO639-2 code which can be used with the <a href="#mkvmerge.description.language">--language</a> option.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--priority</span> <span class="parameter">priority</span></td>
                  <td>
                     
                     <p>
                        Sets the process priority that <span class="productname">mkvmerge</span>(1) runs with. Valid values are '<span class="literal">lowest</span>', '<span class="literal">lower</span>',
                        '<span class="literal">normal</span>', '<span class="literal">higher</span>' and '<span class="literal">highest</span>'. If nothing is given then
                        '<span class="literal">normal</span>' is used. On Unix like systems <span class="productname">mkvmerge</span>(1) will use the
                        <a href="http://linux.die.net/man/2/nice"><span class="productname">nice</span>(2)</a> function. Therefore only the super user can
                        use '<span class="literal">higher</span>' and '<span class="literal">highest</span>'. On Windows all values are useable for every user.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.command_line_charset"><span class="option">--command-line-charset</span> <span class="parameter">character-set</span></a></td>
                  <td>
                     
                     <p>
                        Sets the character set to convert strings given on the command line from. It defaults
                        to the character set given by system's current
                        locale. This settings applies to arguments of the following options: <a href="#mkvmerge.description.title">--title</a>, <a href="#mkvmerge.description.track_name">--track-name</a> and <a href="#mkvmerge.description.attachment_description">--attachment-description</a>.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.output_charset"><span class="option">--output-charset</span> <span class="parameter">character-set</span></a></td>
                  <td>
                     
                     <p>
                        Sets the character set to which strings are converted that are to be output.  It defaults
                        to the character set given by system's
                        current locale.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.redirect_output"><span class="option">-r</span>, <span class="option">--redirect-output</span> <span class="parameter">file-name</span></a></td>
                  <td>
                     
                     <p>
                        Writes all messages to the file <span class="parameter">file-name</span> instead of to the console.  While this can be done easily with output
                        redirection there are cases in which this option is needed: when the terminal reinterprets
                        the output before writing it to a file.
                        The character set set with <a href="#mkvmerge.description.output_charset">--output-charset</a> is honored.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.ui_language"><span class="option">--ui-language</span> <span class="parameter">code</span></a></td>
                  <td>
                     
                     <p>
                        Forces the translations for the language <span class="parameter">code</span> to be used (e.g.  '<span class="literal">de_DE</span>' for the German
                        translations). It is preferable to use the environment variables <span class="varname">LANG</span>, <span class="varname">LC_MESSAGES</span> and
                        <span class="varname">LC_ALL</span> though. Entering '<span class="literal">list</span>' as the <span class="parameter">code</span> will cause <span class="productname">mkvmerge</span>(1) to
                        output a list of available translations.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.debug"><span class="option">--debug</span> <span class="parameter">topic</span></a></td>
                  <td>
                     
                     <p>
                        Turn on debugging for a specific feature. This option is only useful for developers.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvmerge.description.engage"><span class="option">--engage</span> <span class="parameter">feature</span></a></td>
                  <td>
                     
                     <p>
                        Turn on experimental features. A list of available features can be requested with
                        <span class="command">mkvmerge --engage list</span>. These
                        features are not meant to be used in normal situations.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">@</span><span class="parameter">options-file</span></td>
                  <td>
                     
                     <p>
                        Reads additional command line arguments from the file <span class="parameter">options-file</span>. See the section about <a href="#mkvmerge.option_files">option files</a> for further information.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--capabilities</span></td>
                  <td>
                     
                     <p>
                        Lists information about optional features that have been compiled in and exit. The
                        first line output will be the version
                        information. All following lines contain exactly one word whose presence indicates
                        that the feature has been compiled in. These
                        features are:
                        
                     </p>
                     
                     
                     <ul>
                        
                        <li>
                           
                           <p>
                              '<span class="literal">BZ2</span>' -- the <span class="productname">bzlib</span><sup>(tm)</sup> compression library. Affects the available compression methods for
                              the <a href="#mkvmerge.description.compression">--compression</a> option.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              '<span class="literal">LZO</span>' -- the <span class="productname">lzo</span><sup>(tm)</sup> compression library. Affects the available compression methods for
                              the <a href="#mkvmerge.description.compression">--compression</a> option.
                              
                           </p>
                           
                        </li>
                        
                        
                        <li>
                           
                           <p>
                              '<span class="literal">FLAC</span>' -- reading raw <span class="abbrev">FLAC</span> files and handling <span class="abbrev">FLAC</span> tracks in other containers,
                              e.g. <span class="productname">Ogg</span><sup>(tm)</sup> or <span class="productname">Matroska</span><sup>(tm)</sup>.
                              
                           </p>
                           
                        </li>
                        
                     </ul>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-h</span>, <span class="option">--help</span></td>
                  <td>
                     
                     <p>
                        Show usage information and exit.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-V</span>, <span class="option">--version</span></td>
                  <td>
                     
                     <p>
                        Show version information and exit.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--check-for-updates</span></td>
                  <td>
                     
                     <p>
                        Checks online for new releases by downloading the URL <a href="http://mkvtoolnix-releases.bunkus.org/latest-release.xml">http://mkvtoolnix-releases.bunkus.org/latest-release.xml</a>. Four
                        lines will be output in <span class="literal">key=value</span> style: the URL from where the information was retrieved (key
                        <span class="literal">version_check_url</span>), the currently running version (key <span class="literal">running_version</span>), the latest release's
                        version (key <span class="literal">available_version</span>) and the download URL (key <span class="literal">download_url</span>).
                        
                     </p>
                     
                     
                     <p>
                        Afterwards the program exists with an exit code of 0 if no newer release is available,
                        with 1 if a newer release is available and with
                        2 if an error occured (e.g. if the update information could not be retrieved).
                        
                     </p>
                     
                     
                     <p>
                        This option is only available if the program was built with support for libcurl.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <h1><a name="mkvmerge.usage">3. Usage</a></h1>
         
         
         <p>
            For each file the user can select which tracks <span class="productname">mkvmerge</span>(1) should take.  They are all put into the file specified with
            <span class="option">-o</span>. A list of known (and supported) source formats can be obtained with the <span class="option">-l</span> option.
            
         </p>
         
         
         <div class="important">
            <p class="important-title">Important:</p>
            
            <p>
               The order of command line options is important. Please read the section <a href="#mkvmerge.option_order">"Option
                  order"</a> if you're new to the program.
               
            </p>
            
         </div>
         
         <h1><a name="mkvmerge.option_order">4. Option order</a></h1>
         
         
         
         <p>
            The order in which options are entered is important for some options. Options fall
            into two categories:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>
                  Options that affect the whole program and are not tied to any input file. These include
                  but are not limited to
                  <span class="option">--command-line-charset</span>, <span class="option">--output</span> or <span class="option">--title</span>. These can appear anywhere on the
                  command line.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Options that affect a single input file or a single track in an input file. These
                  options all apply to the following input file on the
                  command line. All options applying to the same input (or to tracks from the same input
                  file) file can be written in any order as long
                  as they all appear before that input file's name. Examples for options applying to
                  an input file are <span class="option">--no-chapters</span> or
                  <span class="option">--chapter-charset</span>. Examples for options applying to a single track are <span class="option">--default-duration</span> or
                  <span class="option">--language</span>.
                  
               </p>
               
            </li>
            
         </ol>
         
         
         <p>
            The options are processed from left to right. If an option appears multiple times
            within the same scope then the last occurence will be
            used. Therefore the title will be set to "Something else" in the following example:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o output.mkv --title 'This and that' input.avi --title 'Something else'</pre>
         
         <p>
            The following example shows that using the <span class="option">--language</span> option twice is OK because they're used in different scopes. Even
            though they apply to the same track ID they apply to different input files and therefore
            have different scopes:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o output.mkv --language 0:fre français.ogg --language 0:deu deutsch.ogg</pre>
         <h1><a name="mkvmerge.examples">5. Examples</a></h1>
         
         
         <p>
            Let's assume you have a file called MyMovie.avi and the audio track in a separate
            file, e.g. '<span class="literal">MyMovie.wav</span>'. First you
            want to encode the audio to <span class="productname">OggVorbis</span><sup>(tm)</sup>:
            
         </p>
         
         <pre class="screen">$ oggenc -q4 -oMyMovie.ogg MyMovie.wav</pre>
         
         <p>
            After a couple of minutes you can join video and audio:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o MyMovie-with-sound.mkv MyMovie.avi MyMovie.ogg</pre>
         
         <p>
            If your <span class="abbrev">AVI</span> already contains an audio track then it will be copied as well (if <span class="productname">mkvmerge</span>(1) supports the audio format). To
            avoid that simply do
            
         </p>
         
         <pre class="screen">$ mkvmerge -o MyMovie-with-sound.mkv -A MyMovie.avi MyMovie.ogg</pre>
         
         <p>
            After some minutes of consideration you rip another audio track, e.g.  the director's
            comments or another language to
            '<span class="literal">MyMovie-add-audio.wav</span>'.  Encode it again and join it up with the other file:
            
         </p>
         
         <pre class="screen">$ oggenc -q4 -oMyMovie-add-audio.ogg MyMovie-add-audio.wav
$ mkvmerge -o MM-complete.mkv MyMovie-with-sound.mkv MyMovie-add-audio.ogg</pre>
         
         <p>
            The same result can be achieved with
            
         </p>
         
         <pre class="screen">$ mkvmerge -o MM-complete.mkv -A MyMovie.avi MyMovie.ogg MyMovie-add-audio.ogg</pre>
         
         <p>
            Now fire up <span class="productname">mplayer</span><sup>(tm)</sup> and enjoy. If you have multiple audio tracks (or even video tracks) then you can
            tell
            <span class="productname">mplayer</span><sup>(tm)</sup> which track to play with the '<span class="option">-vid</span>' and '<span class="option">-aid</span>' options. These are
            0-based and do not distinguish between video and audio.
            
         </p>
         
         
         <p>
            If you need an audio track synchronized you can do that easily. First find out which
            track ID the Vorbis track has with
            
         </p>
         
         <pre class="screen">$ mkvmerge --identify outofsync.ogg</pre>
         
         <p>
            Now you can use that ID in the following command line:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o goodsync.mkv -A source.avi -y 12345:200 outofsync.ogg</pre>
         
         <p>
            This would add 200ms of silence at the beginning of the audio track with the
            ID <span class="constant">12345</span> taken from '<span class="literal">outofsync.ogg</span>'.
            
         </p>
         
         
         <p>
            Some movies start synced correctly but slowly drift out of sync. For these kind of
            movies you can specify a delay factor that is applied
            to all timestamps -- no data is added or removed. So if you make that factor too big
            or too small you'll get bad results. An example is
            that an episode I transcoded was <span class="constant">0.2</span> seconds out of sync at the end of the movie which was
            <span class="constant">77340</span> frames long. At <span class="constant">29.97fps</span> <span class="constant">0.2</span> seconds correspond to
            approx. <span class="constant">6</span> frames. So I did
            
         </p>
         
         <pre class="screen">$ mkvmerge -o goodsync.mkv -y 23456:0,77346/77340 outofsync.mkv</pre>
         
         <p>
            The result was fine.
            
         </p>
         
         
         <p>
            The sync options can also be used for subtitles in the same manner.
            
         </p>
         
         
         <p>
            For text subtitles you can either use some Windows software (like <span class="productname">SubRipper</span><sup>(tm)</sup>) or the
            <span class="productname">subrip</span><sup>(tm)</sup> package found in
            <a href="http://linux.die.net/man/1/transcode"><span class="productname">transcode</span>(1)</a>'s sources in the
            '<span class="literal">contrib/subrip</span>' directory. The general process is:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>extract a raw subtitle stream from the source:</p>
               <pre class="screen">$ tccat -i /path/to/copied/dvd/ -T 1 -L | tcextract -x ps1 -t vob -a 0x20 | subtitle2pgm -o mymovie</pre>
               </li>
            
            
            <li>
               
               <p>convert the resulting PGM images to text with gocr:</p>
               <pre class="screen">$ pgm2txt mymovie</pre>
               </li>
            
            
            <li>
               
               <p>spell-check the resulting text files:</p>
               <pre class="screen">$ ispell -d american *txt</pre>
               </li>
            
            
            <li>
               
               <p>convert the text files to a SRT file:</p>
               <pre class="screen">$ srttool -s -w -i mymovie.srtx -o mymovie.srt</pre>
               </li>
            
         </ol>
         
         
         <p>
            The resulting file can be used as another input file for <span class="productname">mkvmerge</span>(1):
            
         </p>
         
         <pre class="screen">$ mkvmerge -o mymovie.mkv mymovie.avi mymovie.srt</pre>
         
         <p>
            If you want to specify the language for a given track then this is easily done. First
            find out the ISO639-2 code for your
            language. <span class="productname">mkvmerge</span>(1) can list all of those codes for you:
            
         </p>
         
         <pre class="screen">$ mkvmerge --list-languages</pre>
         
         <p>
            Search the list for the languages you need. Let's assume you have put two audio tracks
            into a <span class="productname">Matroska</span><sup>(tm)</sup> file and want to set their
            language codes and that their track IDs are 2 and 3. This can be done with
            
         </p>
         
         <pre class="screen">$ mkvmerge -o with-lang-codes.mkv --language 2:ger --language 3:dut without-lang-codes.mkv</pre>
         
         <p>
            As you can see you can use the <a href="#mkvmerge.description.language">--language</a> switch multiple times.
            
         </p>
         
         
         <p>
            Maybe you'd also like to have the player use the Dutch language as the default language.
            You also have extra subtitles, e.g. in English
            and French, and want to have the player display the French ones by default. This can
            be done with
            
         </p>
         
         <pre class="screen">$ mkvmerge -o with-lang-codes.mkv --language 2:ger --language 3:dut --default-track 3 without-lang-codes.mkv --language 0:eng english.srt --default-track 0 --language 0:fre french.srt</pre>
         
         <p>
            If you do not see the language or default track flags that you've specified in <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>'s output then please read the
            section about <a href="#mkvmerge.default_values">default values</a>.
            
         </p>
         
         
         <p>
            Turn off the compression for an input file.
            
         </p>
         
         <pre class="screen">$ mkvmerge -o no-compression.mkv --compression -1:none MyMovie.avi --compression -1:none mymovie.srt</pre>
         
         <h1><a name="mkvmerge.track_ids">6. Track IDs</a></h1>
         
         
         
         <p>
            Some of the options for <span class="productname">mkvmerge</span>(1) need a track ID to specify which track they should be applied to.  Those track IDs
            are printed by the
            readers when demuxing the current input file, or if <span class="productname">mkvmerge</span>(1) is called with the <a href="#mkvmerge.description.identify">--identify</a> option.  An example for such output:
            
         </p>
         
         <pre class="screen">$ mkvmerge -i v.mkv
File 'v.mkv': container: Matroska
Track ID 1: video (V_MS/VFW/FOURCC, DIV3)
Track ID 2: audio (A_MPEG/L3)</pre>
         
         <p>
            Do not confuse the track IDs that are assigned to the tracks that are placed in the
            output MKV file with the track IDs of the input
            files. Only the input file track IDs are used for options needing these values.
            
         </p>
         
         
         <p>
            Also note that each input file has its own set of track IDs. Therefore the track IDs
            for file '<span class="filename">file1.ext</span>' as
            reported by '<span class="literal">mkvmerge --identify</span>' do not change no matter how many other input files are there or in which position
            '<span class="filename">file1.ext</span>' is used.
            
         </p>
         
         
         <p>
            Track IDs are assigned like this:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <span class="abbrev">AVI</span> files: The video track has the ID 0. The audio tracks get IDs in ascending order
                  starting at 1.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="abbrev">AAC</span>, <span class="abbrev">AC3</span>, <span class="abbrev">MP3</span>, <span class="abbrev">SRT</span> and <span class="abbrev">WAV</span> files: The one 'track'
                  in that file gets the ID 0.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Most other files: The track IDs are assigned in order the tracks are found in the
                  file starting at 0.
                  
               </p>
               
            </li>
            
         </ul>
         
         
         <p>
            The special track ID '<span class="constant">-1</span>' is a wild card and applies the given switch to all tracks that are read from an
            input
            file.
            
         </p>
         
         
         <p>
            The options that use the track IDs are the ones whose description contains '<span class="literal">TID</span>'.  The following options use track IDs
            as well: <span class="option">--audio-tracks</span>, <span class="option">--video-tracks</span>, <span class="option">--subtitle-tracks</span>,
            <span class="option">--button-tracks</span> and <span class="option">--track-tags</span>.
            
         </p>
         
         <h1><a name="mkvmerge.text_files_and_charsets">7. Text files and character set conversions</a></h1>
         
         
         <div class="note">
            <p class="note-title">Note:</p>
            
            <p>
               This section applies to all programs in MKVToolNix even if it only mentions <span class="productname">mkvmerge</span>(1).
               
            </p>
            
         </div>
         
         
         <p>
            All text in a <span class="productname">Matroska</span><sup>(tm)</sup> file is encoded in UTF-8. This means that <span class="productname">mkvmerge</span>(1) has to convert every text file it reads as well as every
            text given on the command line from one character set into UTF-8. In return this also
            means that <span class="productname">mkvmerge</span>(1)'s output has to be converted
            back to that character set from UTF-8, e.g. if a non-English translation is used with
            <a href="#mkvmerge.description.ui_language">--ui-language</a> or for text originating from a <span class="productname">Matroska</span><sup>(tm)</sup> file.
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) does this conversion automatically based on the presence of a <span class="foreignphrase">byte order marker</span> (short:
            <span class="abbrev">BOM</span>) or the system's current locale. How the character set is inferred from the locale
            depends on the operating system
            that <span class="productname">mkvmerge</span>(1) is run on.
            
         </p>
         
         
         <p>
            Text files that start with a BOM are already encoded in one representation of UTF.
            <span class="productname">mkvmerge</span>(1) supports the following five modes: UTF-8,
            UTF-16 Little and Big Endian, UTF-32 Little and Big Endian. Text files with a BOM
            are automatically converted to UTF-8. Any of the
            parameters that would otherwise set the character set for such a file (e.g. <a href="#mkvmerge.description.sub_charset">--sub-charset</a>) is silently ignored.
            
         </p>
         
         
         <p>
            On Unix-like systems <span class="productname">mkvmerge</span>(1) uses the <a href="http://linux.die.net/man/3/setlocale"><span class="productname">setlocale</span>(3)</a>
            system call which in turn uses the environment variables <span class="varname">LANG</span>, <span class="varname">LC_ALL</span> and
            <span class="varname">LC_CYPE</span>. The resulting character set is often one of UTF-8 or the ISO-8859-* family and is
            used for all text file
            operations and for encoding strings on the command line and for output to the console.
            
         </p>
         
         
         <p>
            On Windows there are actually two different character sets that <span class="productname">mkvmerge</span>(1) uses due to the way the Windows shell program
            <span class="command">cmd.exe</span> is implemented. The first character set is determined by a call to the <span class="function">GetACP()</span> system
            call. This character set is used as the default for text file conversions and for
            all elements displayed by the <span class="abbrev">GUI</span>
            programs in the MKVToolNix package.
            
         </p>
         
         
         <p>
            Another charset may be used if <span class="command">cmd.exe</span> is used. However, reading the command line is done with the
            <span class="function">GetCommandLineW()</span> function which already returns a Unicode string. Therefore the option
            <span class="option">--command-line-charset</span> is ignored on Windows.  Output to the console is done with the
            <span class="function">WriteConsoleW()</span> function. Therefore the option <span class="option">--output-charset</span> is only used on Windows if the
            output is redirected with <span class="option">--redirect-output</span>.
            
         </p>
         
         
         <p>
            The following options exist that allow specifying the character sets:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.sub_charset">--sub-charset</a> for text subtitle files and for text subtitle
                  tracks stored in container formats for which the character set cannot be determined
                  unambiguously (e.g. Ogg files),
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.chapter_charset">--chapter-charset</a> for chapter text files and for chapters
                  and file titles stored in container formats for which the character set cannot be
                  determined unambiguously (e.g. Ogg files for chapter
                  information, track and file titles etc; MP4 files for chapter information),
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.command_line_charset">--command-line-charset</a> for all strings on the command
                  line,
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <a href="#mkvmerge.description.output_charset">--output-charset</a> for all strings written to the console or
                  to a file if the output has been redirected with the <a href="#mkvmerge.description.redirect_output">--redirect-output</a> option.
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvmerge.option_files">8. Option files</a></h1>
         
         
         
         <p>
            An option file is a file <span class="productname">mkvmerge</span>(1) can read additional command line arguments from. This can be used in order to circumvent
            certain
            limitations of the shell or the operating system when executing external programs
            like a limited command line length.
            
         </p>
         
         
         <p>
            There are several rules regarding option files. Lines whose first non-whitespace character
            is a hash mark ('<span class="literal">#</span>') are
            treated as comments and ignored. White spaces at the start and end of a line will
            be stripped. Each line must contain exactly one
            option.
            
         </p>
         
         
         <p>
            A line not containing anything is also ignored. An empty argument is represented by
            the line '<span class="literal">#EMPTY#</span>'.
            
         </p>
         
         
         <p>
            Several chars can be escaped, e.g. if you need to start a non-comment line with '#'.
            The rules are described in <a href="#mkvmerge.escaping">the section about escaping text</a>.
            
         </p>
         
         
         <p>
            Note that backslashes must always be escaped. Hash marks ('#') must be escaped if
            they should not start a comment.
            
         </p>
         
         
         <p>
            The command line '<span class="command">mkvmerge -o "my file.mkv" -A "a movie.avi" sound.ogg</span>' could be converted into the following
            option file:
            
         </p>
         
         <pre class="programlisting"># Write to the file "c:\Matroska\my file.mkv" on Windows.
-o
c:\\Matroska\\my file.mkv
# Set the title to '#65'.
--title
\h65
# Only take the video from "a movie.avi".
-A
a movie.avi
sound.ogg</pre>
         
         <h1><a name="mkvmerge.escaping">9. Escaping special chars in text</a></h1>
         
         
         <p>
            There are a few places in which special characters in text must or should be escaped.
            The rules for escaping are simple: each character
            that needs escaping is replaced with a backslash followed by another character.
            
         </p>
         
         
         <p>
            The rules are: ' ' (a space) becomes '\s', '"' (double quotes) becomes '\2', ':' becomes
            '\c', '#' becomes '\h' and '\' (a single backslash) itself becomes '\\'.
            
         </p>
         
         <h1><a name="mkvmerge.subtitles">10. Subtitles</a></h1>
         
         
         <p>
            There are several text and bitmap subtitle formats that can be embedded into <span class="productname">Matroska</span><sup>(tm)</sup>. Text subtitles must be recoded to UTF-8 so that
            they can be displayed correctly by a player (see the section about <a href="#mkvmerge.text_files_and_charsets"> text files and
               character sets</a> for an explanation how <span class="productname">mkvmerge</span>(1) converts between character sets). Kate subtitles are already encoded in UTF-8 and
            do not have to be re-encoded.
            
         </p>
         
         
         <p>
            The following subtitle formats are supported at the moment:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  Subtitle Ripper (SRT) files
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Substation Alpha (SSA) / Advanced Substation Alpha scripts (ASS)
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Universal Subtitle Format (USF) files
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  OggKate streams
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  VobSub bitmap subtitle files
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  PGS bitmap subtitle files as found on BluRay discs
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvmerge.file_linking">11. File linking</a></h1>
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> supports file linking which simply says that a specific file is the predecessor or
            successor of the current file. To be precise,
            it's not really the files that are linked but the <span class="productname">Matroska</span><sup>(tm)</sup> segments. As most files will probably only contain one <span class="productname">Matroska</span><sup>(tm)</sup> segment the
            following explanations use the term 'file linking' although 'segment linking' would
            be more appropriate.
            
         </p>
         
         
         <p>
            Each segment is identified by a unique 128 bit wide segment UID. This UID is automatically
            generated by <span class="productname">mkvmerge</span>(1). The linking is done
            primarily via putting the segment UIDs (short: <span class="abbrev">SID</span>) of the previous/next file into the segment header
            information. <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> prints these <span class="abbrev">SIDs</span> if it finds them.
            
         </p>
         
         
         <p>
            If a file is split into several smaller ones and linking is used then the timecodes
            will not start at 0 again but will continue where the
            last file has left off. This way the absolute time is kept even if the previous files
            are not available (e.g. when streaming). If no
            linking is used then the timecodes should start at 0 for each file. By default <span class="productname">mkvmerge</span>(1) does not use file linking. If you want that you
            can turn it on with the <span class="option">--link</span> option. This option is only useful if splitting is activated as well.
            
         </p>
         
         
         <p>
            Regardless of whether splitting is active or not the user can tell <span class="productname">mkvmerge</span>(1) to link the produced files to specific
            <span class="abbrev">SIDs</span>. This is achieved with the options <span class="option">--link-to-previous</span> and <span class="option">--link-to-next</span>.  These
            options accept a segment <span class="abbrev">SID</span> in the format that <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> outputs: 16 hexadecimal numbers between
            <span class="constant">0x00</span> and <span class="constant">0xff</span> prefixed with '<span class="literal">0x</span>' each, e.g. '<span class="code">0x41 0xda 0x73 0x66
               0xd9 0xcf 0xb2 0x1e 0xae 0x78 0xeb 0xb4 0x5e 0xca 0xb3 0x93</span>'. Alternatively a shorter form can be used: 16 hexadecimal numbers
            between <span class="constant">0x00</span> and <span class="constant">0xff</span> without the '<span class="literal">0x</span>' prefixes and without the spaces, e.g.
            '<span class="code">41da7366d9cfb21eae78ebb45ecab393</span>'.
            
         </p>
         
         
         <p>
            If splitting is used then the first file is linked to the <span class="abbrev">SID</span> given with <span class="option">--link-to-previous</span> and the
            last file is linked to the <span class="abbrev">SID</span> given with <span class="option">--link-to-next</span>. If splitting is not used then the one output
            file will be linked to both of the two <span class="abbrev">SIDs</span>.
            
         </p>
         
         <h1><a name="mkvmerge.default_values">12. Default values</a></h1>
         
         
         <p>
            The <span class="productname">Matroska</span><sup>(tm)</sup> specification states that some elements have a default value. Usually an element
            is not written to the file if its value
            is equal to its default value in order to save space. The elements that the user might
            miss in <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>'s output are the
            <span class="parameter">language</span> and the <span class="parameter">default track flag</span> elements.  The default value for the
            <span class="parameter">language</span> is English ('<span class="literal">eng</span>'), and the default value for the <span class="parameter">default track
               flag</span> is <span class="parameter">true</span>. Therefore if you used <span class="option">--language 0:eng</span> for a track then it will not
            show up in <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>'s output.
            
         </p>
         
         <h1><a name="mkvmerge.attachments">13. Attachments</a></h1>
         
         
         <p>
            Maybe you also want to keep some photos along with your <span class="productname">Matroska</span><sup>(tm)</sup> file, or you're using <span class="abbrev">SSA</span> subtitles and need a
            special <span class="productname">TrueType</span><sup>(tm)</sup> font that's really rare. In these cases you can attach those files to the <span class="productname">Matroska</span><sup>(tm)</sup>
            file. They will not be just appended to the file but embedded in it. A player can
            then show those files (the 'photos' case) or use them
            to render the subtitles (the '<span class="productname">TrueType</span><sup>(tm)</sup> fonts' case).
            
         </p>
         
         
         <p>
            Here's an example how to attach a photo and a <span class="productname">TrueType</span><sup>(tm)</sup> font to the output file:
            
         </p>
         
         <pre class="screen">$ mkvmerge -o output.mkv -A video.avi sound.ogg \
  --attachment-description "Me and the band behind the stage in a small get-together" \
  --attachment-mime-type image/jpeg \
  --attach-file me_and_the_band.jpg \
  --attachment-description "The real rare and unbelievably good looking font" \
  --attachment-type application/octet-stream \
  --attach-file really_cool_font.ttf</pre>
         
         <p>
            If a <span class="productname">Matroska</span><sup>(tm)</sup> containing attachments file is used as an input file then <span class="productname">mkvmerge</span>(1) will copy the attachments into the new file. The
            selection which attachments are copied and which are not can be changed with the options
            <a href="#mkvmerge.description.attachments">--attachments</a> and <a href="#mkvmerge.description.no_attachments">--no-attachments</a>.
            
         </p>
         
         <h1><a name="mkvmerge.chapters">14. Chapters</a></h1>
         
         
         <p>
            The <span class="productname">Matroska</span><sup>(tm)</sup> chapter system is more powerful than the old known system used by <span class="abbrev">OGM</span> files. The full specifications can
            be found at <a href="http://www.matroska.org/">the Matroska website</a>.
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) supports two kinds of chapter files as its input. The first format, called '<span class="foreignphrase">simple chapter
               format</span>', is the same format that the <span class="abbrev">OGM</span> tools expect. The second format is a <span class="abbrev">XML</span> based
            chapter format which supports all of <span class="productname">Matroska</span><sup>(tm)</sup>'s chapter functionality.
            
         </p>
         
         
         <h2><a name="mkvmerge.chapters.simple">14.1. The simple chapter format</a></h2>
         
         
         
         <p>
            This formmat consists of pairs of lines that start with '<span class="literal">CHAPTERxx=</span>' and '<span class="literal">CHAPTERxxNAME=</span>'
            respectively. The first one contains the start timecode while the second one contains
            the title. Here's an example:
            
         </p>
         
         <pre class="screen">CHAPTER01=00:00:00.000
CHAPTER01NAME=Intro
CHAPTER02=00:02:30.000
CHAPTER02NAME=Baby prepares to rock
CHAPTER03=00:02:42.300
CHAPTER03NAME=Baby rocks the house</pre>
         
         <p>
            <span class="productname">mkvmerge</span>(1) will transform every pair or lines into one <span class="productname">Matroska</span><sup>(tm)</sup> <span class="classname">ChapterAtom</span>. It does not set any
            <span class="classname">ChapterTrackNumber</span> which means that the chapters all apply to all tracks in the file.
            
         </p>
         
         
         <p>
            As this is a text file character set conversion may need to be done. See the section
            about <a href="#mkvmerge.text_files_and_charsets"> text files and character sets</a> for an explanation how <span class="productname">mkvmerge</span>(1) converts between
            character sets.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.chapters.xml">14.2. The XML based chapter format</a></h2>
         
         
         <p>
            The <span class="abbrev">XML</span> based chapter format looks like this example:
            
         </p>
         
         <pre class="screen">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!DOCTYPE Chapters SYSTEM "matroskachapters.dtd"&gt;
&lt;Chapters&gt;
  &lt;EditionEntry&gt;
    &lt;ChapterAtom&gt;
      &lt;ChapterTimeStart&gt;00:00:30.000&lt;/ChapterTimeStart&gt;
      &lt;ChapterTimeEnd&gt;00:01:20.000&lt;/ChapterTimeEnd&gt;
      &lt;ChapterDisplay&gt;
        &lt;ChapterString&gt;A short chapter&lt;/ChapterString&gt;
        &lt;ChapterLanguage&gt;eng&lt;/ChapterLanguage&gt;
      &lt;/ChapterDisplay&gt;
      &lt;ChapterAtom&gt;
        &lt;ChapterTimeStart&gt;00:00:46.000&lt;/ChapterTimeStart&gt;
        &lt;ChapterTimeEnd&gt;00:01:10.000&lt;/ChapterTimeEnd&gt;
        &lt;ChapterDisplay&gt;
          &lt;ChapterString&gt;A part of that short chapter&lt;/ChapterString&gt;
          &lt;ChapterLanguage&gt;eng&lt;/ChapterLanguage&gt;
        &lt;/ChapterDisplay&gt;
      &lt;/ChapterAtom&gt;
    &lt;/ChapterAtom&gt;
  &lt;/EditionEntry&gt;
&lt;/Chapters&gt;</pre>
         
         <p>
            With this format three things are possible that are not possible with the simple chapter
            format:
            
         </p>
         
         
         <ol>
            
            <li>
               <p>The timestamp for the end of the chapter can be set,</p>
            </li>
            
            <li>
               <p>chapters can be nested,</p>
            </li>
            
            <li>
               <p>the language and country can be set.</p>
            </li>
            
         </ol>
         
         
         <p>
            The mkvtoolnix distribution contains some sample files in the <span class="filename">doc</span> subdirectory which can be used as a basis.
            
         </p>
         
         
         <p>
            The following lists the supported XML tags, their data types and, where appropriate,
            the valid range for their values:
            
         </p>
         
         <pre class="screen">Chapters (master)
  EditionEntry (master)
    EditionUID (unsigned integer, valid range: 1 &lt;= value)
    EditionFlagHidden (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
    EditionFlagDefault (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
    EditionFlagOrdered (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
    ChapterAtom (master)
      ChapterAtom (master)
      ChapterUID (unsigned integer, valid range: 1 &lt;= value)
      ChapterTimeStart (unsigned integer)
      ChapterTimeEnd (unsigned integer)
      ChapterFlagHidden (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
      ChapterFlagEnabled (unsigned integer, valid range: 0 &lt;= value &lt;= 1)
      ChapterSegmentUID (binary, valid range: 1 &lt;= length in bytes)
      ChapterSegmentEditionUID (unsigned integer, valid range: 1 &lt;= value)
      ChapterPhysicalEquiv (unsigned integer)
      ChapterTrack (master)
        ChapterTrackNumber (unsigned integer, valid range: 1 &lt;= value)
      ChapterDisplay (master)
        ChapterString (UTF-8 string)
        ChapterLanguage (UTF-8 string)
        ChapterCountry (UTF-8 string)
      ChapterProcess (master)
        ChapterProcessCodecID (unsigned integer)
        ChapterProcessPrivate (binary)
        ChapterProcessCommand (master)
          ChapterProcessTime (unsigned integer)
          ChapterProcessData (binary)</pre>
         
         
         <h2><a name="d4e4483">14.3. General notes</a></h2>
         
         
         <p>
            When splitting files <span class="productname">mkvmerge</span>(1) will correctly adjust the chapters as well. This means that each file only includes
            the chapter entries
            that apply to it, and that the timecodes will be offset to match the new timecodes
            of each output file.
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) is able to copy chapters from <span class="productname">Matroska</span><sup>(tm)</sup> source files unless this is explicitly disabled with the <a href="#mkvmerge.description.no_chapters">--no-chapters</a> option. The chapters from all sources (<span class="productname">Matroska</span><sup>(tm)</sup> files,
            Ogg files, <span class="abbrev">MP4</span> files, chapter text files) are usually not merged but end up in separate
            <span class="classname">ChapterEditions</span>. Only if chapters are read from several <span class="productname">Matroska</span><sup>(tm)</sup> or <span class="abbrev">XML</span> files that share the
            same edition UIDs will chapters be merged into a single <span class="classname">ChapterEdition</span>. If such a merge is desired in other
            situations as well then the user has to extract the chapters from all sources with
            <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> first, merge the <span class="abbrev">XML</span>
            files manually and mux them afterwards.
            
         </p>
         
         
         <h1><a name="mkvmerge.tags">15. Tags</a></h1>
         
         
         
         <h2><a name="d4e4549">15.1. Introduction</a></h2>
         
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> supports an extensive set of tags that is deprecated and a new, simpler system like
            it is is used in most other containers:
            <span class="parameter">KEY=VALUE</span>. However, in <span class="productname">Matroska</span><sup>(tm)</sup> these tags can also be nested, and both the <span class="parameter">KEY</span> and the
            <span class="parameter">VALUE</span> are elements of their own. The example file <span class="filename">example-tags-2.xml</span> shows how to use this
            new system.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.scope">15.2. Scope of the tags</a></h2>
         
         
         
         <p>
            <span class="productname">Matroska</span><sup>(tm)</sup> tags do not automatically apply to the complete file. They can, but they also may
            apply to different parts of the file: to one
            or more tracks, to one or more chapters, or even to a combination of both. The <a href="http://matroska.org/technical/specs/index.html">the Matroska specification</a> gives more details about this fact.
            
         </p>
         
         
         <p>
            One important fact is that tags are linked to tracks or chapters with the <span class="classname">Targets</span> <span class="productname">Matroska</span><sup>(tm)</sup> tag element, and
            that the UIDs used for this linking are <em>not</em> the track IDs <span class="productname">mkvmerge</span>(1) uses everywhere. Instead the numbers used are
            the UIDs which <span class="productname">mkvmerge</span>(1) calculates automatically (if the track is taken from a file format other than <span class="productname">Matroska</span><sup>(tm)</sup>) or which are copied
            from the source file if the track's source file is a <span class="productname">Matroska</span><sup>(tm)</sup> file. Therefore it is difficult to know which UIDs to use in the tag
            file before the file is handed over to <span class="productname">mkvmerge</span>(1).
            
         </p>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) knows two options with which you can add tags to <span class="productname">Matroska</span><sup>(tm)</sup> files: The <a href="#mkvmerge.description.global_tags">--global-tags</a> and the <a href="#mkvmerge.description.tags">--tags</a> options. The difference is that the former option, <a href="#mkvmerge.description.global_tags">--global-tags</a>, will make the tags apply to the complete file by
            removing any of those <span class="classname">Targets</span> elements mentioned above.  The latter option, <a href="#mkvmerge.description.tags">--tags</a>, automatically inserts the UID that <span class="productname">mkvmerge</span>(1) generates for the tag
            specified with the <span class="parameter">TID</span> part of the <a href="#mkvmerge.description.tags">--tags</a>
            option.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.example">15.3. Example</a></h2>
         
         
         <p>
            Let's say that you want to add tags to a video track read from an <span class="abbrev">AVI</span>. <span class="command">mkvmerge --identify file.avi</span>
            tells you that the video track's ID (do not mix this ID with the UID!) is 0. So you
            create your tag file, leave out all
            <span class="classname">Targets</span> elements and call <span class="productname">mkvmerge</span>(1):
            
         </p>
         
         <pre class="screen">$ mkvmerge -o file.mkv --tags 0:tags.xml file.avi</pre>
         
         
         <h2><a name="mkvmerge.tags.file_format">15.4. Tag file format</a></h2>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) supports a <span class="abbrev">XML</span> based tag file format. The format is very closely modeled after <a href="http://matroska.org/technical/specs/index.html">the Matroska specification</a>. Both the binary and the source distributions
            of MKVToolNix come with a sample file called <span class="filename">example-tags-2.xml</span> which simply lists all known tags and which can be
            used as a basis for real life tag files.
            
         </p>
         
         
         <p>
            The basics are:
            
         </p>
         
         
         <ul>
            
            <li>
               <p>The outermost element must be <span class="classname">&lt;Tags&gt;</span>.
               </p>
            </li>
            
            <li>
               
               <p>One logical tag is contained inside one pair of <span class="classname">&lt;Tag&gt;</span> <span class="abbrev">XML</span> tags.
               </p>
               
            </li>
            
            <li>
               <p>White spaces directly before and after tag contents are ignored.</p>
            </li>
            
         </ul>
         
         
         
         <h2><a name="mkvmerge.tags.data_types">15.5. Data types</a></h2>
         
         
         <p>
            The new <span class="productname">Matroska</span><sup>(tm)</sup> tagging system only knows two data types, a UTF-8 string and a binary type. The first
            is used for the tag's name and
            the <span class="classname">&lt;String&gt;</span> element while the binary type is used for the <span class="classname">&lt;Binary&gt;</span> element.
            
         </p>
         
         
         <p>
            As binary data itself would not fit into a <span class="abbrev">XML</span> file <span class="productname">mkvmerge</span>(1) supports two other methods of storing binary data. If the contents of a
            <span class="abbrev">XML</span> tag starts with '<span class="literal">@</span>' then the following text is treated as a file name. The corresponding file's content
            is
            copied into the <span class="productname">Matroska</span><sup>(tm)</sup> element.
            
         </p>
         
         
         <p>
            Otherwise the data is expected to be <span class="foreignphrase">Base64</span> encoded. This is an encoding that transforms binary data into
            a limited set of <span class="abbrev">ASCII</span> characters and is used e.g. in email programs. <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> will output
            <span class="foreignphrase">Base64</span> encoded data for binary elements.
            
         </p>
         
         
         <p>
            The deprecated tagging system knows some more data types which can be found in the
            official <span class="productname">Matroska</span><sup>(tm)</sup> tag specs. As <span class="productname">mkvmerge</span>(1) does not
            support this system anymore these types aren't described here.
            
         </p>
         
         
         
         <h2><a name="mkvmerge.tags.xml">15.6. Known tags for the XML file format</a></h2>
         
         
         
         <p>
            The following lists the supported XML tags, their data types and, where appropriate,
            the valid range for their values:
            
         </p>
         
         <pre class="screen">Tags (master)
  Tag (master)
    Targets (master)
      TargetTypeValue (unsigned integer)
      TargetType (UTF-8 string)
      TrackUID (unsigned integer)
      EditionUID (unsigned integer)
      ChapterUID (unsigned integer)
      AttachmentUID (unsigned integer)
    Simple (master)
      Simple (master)
      Name (UTF-8 string)
      TagLanguage (UTF-8 string)
      DefaultLanguage (unsigned integer)
      String (UTF-8 string)
      Binary (binary)</pre>
         
         <h1><a name="mkvmerge.segmentinfo">16. The segment info XML files</a></h1>
         
         
         
         <p>
            With a segment info XML file it is possible to set certain values in the "segment
            information" header field of a Matroska
            file. All of these values cannot be set via other command line options.
            
         </p>
         
         
         <p>
            Other "segment information" header fields can be set via command line options but
            not via the XML file. This includes e.g. the
            <span class="option"><a href="#mkvmerge.description.title">--title</a></span> and the <span class="option"><a href="#mkvmerge.description.timecode_scale">--timecode-scale</a></span> options.
            
         </p>
         
         
         <p>
            There are other elements that can be set neither via command line options nor via
            the XML files. These include the following elements:
            <span class="varname">DateUTC</span> (also known as the "muxing date"), <span class="varname">MuxingApp</span>, <span class="varname">WritingApp</span>
            and <span class="varname">Duration</span>. They're always set by <span class="productname">mkvmerge</span>(1) itself.
            
         </p>
         
         
         <p>
            The following lists the supported XML tags, their data types and, where appropriate,
            the valid range for their values:
            
         </p>
         
         <pre class="screen">Info (master)
  SegmentUID (binary, valid range: length in bytes == 16)
  SegmentFilename (UTF-8 string)
  PreviousSegmentUID (binary, valid range: length in bytes == 16)
  PreviousSegmentFilename (UTF-8 string)
  NextSegmentUID (binary, valid range: length in bytes == 16)
  NextSegmentFilename (UTF-8 string)
  SegmentFamily (binary, valid range: length in bytes == 16)
  ChapterTranslate (master)
    ChapterTranslateEditionUID (unsigned integer)
    ChapterTranslateCodec (unsigned integer)
    ChapterTranslateID (binary)</pre>
         <h1><a name="mkvmerge.file_layout">17. Matroska file layout</a></h1>
         
         
         <p>
            The <span class="productname">Matroska</span><sup>(tm)</sup> file layout is quite flexible. <span class="productname">mkvmerge</span>(1) will render a file in a predefined way. The resulting file looks like this:
            
         </p>
         
         
         <p>
            [EBML head] [segment {meta seek #1} [segment information] [track information] {attachments}
            {chapters} [cluster 1] {cluster 2} ...
            {cluster n} {cues} {meta seek #2} {tags}]
            
         </p>
         
         
         <p>
            The elements in curly braces are optional and depend on the contents and options used.
            A couple of notes:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  meta seek #1 includes only a small number of level 1 elements, and only if they actually
                  exist: attachments, chapters, cues, tags, meta
                  seek #2. Older versions of <span class="productname">mkvmerge</span>(1) used to put the clusters into this meta seek element as well. Therefore some imprecise
                  guessing
                  was necessary to reserve enough space. It often failed. Now only the clusters are
                  stored in meta seek #2, and meta seek #1 refers to
                  the meta seek element #2.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>Attachment, chapter and tag elements are only present if they were added.</p>
               
            </li>
            
         </ul>
         
         
         <p>
            The shortest possible Matroska file would look like this:
            
         </p>
         
         
         <p>
            [EBML head] [segment [segment information] [track information] [cluster 1]]
            
         </p>
         
         
         <p>
            This might be the case for audio-only files.
            
         </p>
         
         <h1><a name="mkvmerge.external_timecode_files">18. External timecode files</a></h1>
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) allows the user to chose the timecodes for a specific track himself. This can be
            used in order to create files with variable
            frame rate video or include gaps in audio. A frame in this case is the unit that <span class="productname">mkvmerge</span>(1) creates separately per <span class="productname">Matroska</span><sup>(tm)</sup> block. For
            video this is exactly one frame, for audio this is one packet of the specific audio
            type. E.g. for <span class="abbrev">AC3</span> this would be a
            packet containing <span class="constant">1536</span> samples.
            
         </p>
         
         
         <p>
            Timecode files that are used when tracks are appended to each other must only be specified
            for the first part in a chain of tracks.  For
            example if you append two files, v1.avi and v2.avi, and want to use timecodes then
            your command line must look something like this:
            
         </p>
         
         <pre class="screen">$ mkvmerge ... --timecodes 0:my_timecodes.txt v1.avi +v2.avi</pre>
         
         <p>
            There are four formats that are recognized by <span class="productname">mkvmerge</span>(1). The first line always contains the version number. Empty lines, lines
            containing only whitespace and lines beginning with '<span class="literal">#</span>' are ignored.
            
         </p>
         
         
         <h2><a name="d4e4996">18.1. Timecode file format v1</a></h2>
         
         
         <p>
            This format starts with the version line. The second line declares the default number
            of frames per second.  All following lines contain
            three numbers separated by commas: the start frame (<span class="constant">0</span> is the first frame), the end frame and the number of frames
            in this range. The <span class="abbrev">FPS</span> is a floating point number with the dot '<span class="literal">.</span>' as the decimal point. The ranges
            can contain gaps for which the default <span class="abbrev">FPS</span> is used. An example:
            
         </p>
         
         <pre class="screen"># timecode format v1
assume 27.930
800,1000,25
1500,1700,30</pre>
         
         
         <h2><a name="d4e5020">18.2. Timecode file format v2</a></h2>
         
         
         
         <p>
            In this format each line contains a timecode for the corresponding frame.  This timecode
            must be given in millisecond precision.  It can
            be a floating point number, but it doesn't have to be.  You <em>have to</em> give at least as many timecode lines as there
            are frames in the track.  The timecodes in this file must be sorted.  Example for
            25fps:
            
         </p>
         
         <pre class="screen"># timecode format v2
0
40
80</pre>
         
         
         <h2><a name="d4e5035">18.3. Timecode file format v3</a></h2>
         
         
         <p>
            In this format each line contains a duration in seconds followed by an optional number
            of frames per second.  Both can be floating point
            numbers.  If the number of frames per second is not present the default one is used.
            For audio you should let the codec calculate the
            frame timecodes itself.  For that you should be using <span class="constant">0.0</span> as the number of frames per second.  You can also create
            gaps in the stream by using the '<span class="literal">gap</span>' keyword followed by the duration of the gap.  Example for an audio file:
            
         </p>
         
         <pre class="screen"># timecode format v3
assume 0.0
25.325
7.530,38.236
gap, 10.050
2.000,38.236</pre>
         
         
         <h2><a name="d4e5053">18.4. Timecode file format v4</a></h2>
         
         
         <p>
            This format is identical to the v2 format.  The only difference is that the timecodes
            do not have to be sorted.  This format should
            almost never be used.
            
         </p>
         
         
         <h1><a name="mkvmerge.exit_codes">19. Exit codes</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) exits with one of three exit codes:
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <span class="constant">0</span> -- This exit codes means that muxing has completed successfully.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">1</span> -- In this case <span class="productname">mkvmerge</span>(1) has output at least one warning, but muxing did continue.  A warning is prefixed
                  with
                  the text '<span class="literal">Warning:</span>'.  Depending on the issues involved the resulting file might be ok or not.  The user
                  is urged to
                  check both the warning and the resulting file.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">2</span> -- This exit code is used after an error occurred.  <span class="productname">mkvmerge</span>(1) aborts right after outputting the error message.
                  Error messages range from wrong command line arguments over read/write errors to broken
                  files.
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvmerge.environment_variables">20. Environment variables</a></h1>
         
         
         
         <p>
            <span class="productname">mkvmerge</span>(1) uses the default variables that determine the system's locale (e.g. <span class="varname">LANG</span> and the <span class="varname">LC_*</span>
            family). Additional variables:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVTOOLNIX_DEBUG</span> and its short form <span class="varname">MTX_DEBUG</span></td>
                  <td>
                     
                     <p>The content is treated as if it had been passed via the <a href="#mkvmerge.description.debug">--debug</a> option.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVTOOLNIX_ENGAGE</span> and its short form <span class="varname">MTX_ENGAGE</span></td>
                  <td>
                     
                     <p>The content is treated as if it had been passed via the <a href="#mkvmerge.description.engage">--engage</a> option.
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVTOOLNIX_OPTIONS</span> and its short form <span class="varname">MTX_OPTIONS</span></td>
                  <td>
                     
                     <p>The content is split on white space. The resulting partial strings are treated as
                        if it had been passed as command line
                        options. If you need to pass special characters (e.g. spaces) then you have to escape
                        them (see <a href="#mkvmerge.escaping">the
                           section about escaping special characters in text</a>).
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         <h1><a name="mkvmerge.seealso">21. See also</a></h1>
         
         
         <p>
            <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>, <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a>, <a href="mkvpropedit.html"><span class="productname">mkvpropedit</span>(1)</a>, <a href="mmg.html"><span class="productname">mmg</span>(1)</a>
            
         </p>
         
         <h1><a name="mkvmerge.www">22. WWW</a></h1>
         
         
         <p>
            The latest version can always be found at <a href="http://www.bunkus.org/videotools/mkvtoolnix/">the MKVToolNix homepage</a>.
            
         </p>
         
      </div>
   </body>
</html>