<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>mkvpropedit -- 在不进行完整的重新混流的情况下修改现有 Matroska 文件的属性</title>
      <link rel="stylesheet" type="text/css" href="mkvtoolnix-doc.css">
   </head>
   <body>
      <div class="heading">mkvpropedit -- 在不进行完整的重新混流的情况下修改现有 <span class="productname">Matroska</span><sup>(tm)</sup> 文件的属性
      </div>
      <hr>
      <div id="toc" class="toc">
         <h1>Table of contents</h1>
         <ul>
            <li><a href="#mkvpropedit.synopsis">1. 概要</a></li>
            <li><a href="#mkvpropedit.description">2. 说明</a></li>
            <li><a href="#mkvpropedit.edit_selectors">3. 编辑选择器</a></li>
            <li><a href="#mkvpropedit.attachment_selectors">4. Attachment selectors</a></li>
            <li><a href="#mkvpropedit.examples">5. 示例</a></li>
            <li><a href="#d4e1327">6. 退出代码</a></li>
            <li><a href="#mkvpropedit.escaping">7. 文本中特殊字符的转义</a></li>
            <li><a href="#mkvpropedit.environment_variables">8. 环境变量</a></li>
            <li><a href="#mkvpropedit.seealso">9. 参阅</a></li>
            <li><a href="#mkvpropedit.www">10. 网络</a></li>
         </ul>
      </div>
      <div class="content">
         <h1><a name="mkvpropedit.synopsis">1. 概要</a></h1>
         
         
         <div class="cmdsynopsis"><span class="commandname">mkvpropedit</span> 选项 {源文件名} {操作}
         </div>
         
         <h1><a name="mkvpropedit.description">2. 说明</a></h1>
         
         
         <p>
            此程序可分析现有 <span class="productname">Matroska</span><sup>(tm)</sup>
            文件，并修改其部分属性。然后它将将变更写入现有文件。可修改的属性包括剪辑信息元素（如标题）和轨道头部（如语言代码、'默认轨' 标记或轨道名称）。
            
         </p>
         
         
         <p>
            选项:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.list_property_names"><span class="option">-l</span>, <span class="option">--list-property-names</span></a></td>
                  <td>
                     
                     <p>
                        列出所有已知的可编辑的属性名称、它们的类型（字符串型、整数型、布尔型等等）及简短说明。程序随后将退出执行。因此不必提供
                        <span class="parameter">source-filename</span> 参数。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.parse_mode"><span class="option">-p</span>, <span class="option">--parse-mode</span> <span class="parameter">模式</span></a></td>
                  <td>
                     
                     <p>
                        设置解析模式。参数 '<span class="parameter">模式</span>' 可以为
                        '<span class="literal">fast（快速）</span>'（此项为默认值）或
                        '<span class="literal">full（完整）</span>'。'<span class="literal">fast（快速）</span>'模式不解析整个文件，而是使用元定位元素确定源文件中所需元素的位置。99%
                        的情况下这就足够了。但如果碰到不含元定位元素或者元定位元素损坏的文件，用户可能得考虑 '<span class="literal">full（完整）</span>'
                        解析模式。完整扫描文件可能要花费几分钟，而快速扫描只需要几秒钟。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <p>
            Actions that deal with track and segment info properties:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.edit"><span class="option">-e</span>, <span class="option">--edit</span> <span class="parameter">选择器</span></a></td>
                  <td>
                     
                     <p>
                        设置后续的 <a href="#mkvpropedit.description.add">添加</a>、<a href="#mkvpropedit.description.set">设置</a> 或 <a href="#mkvpropedit.description.delete">删除</a> 操作所针对的 <span class="productname">Matroska</span><sup>(tm)</sup>
                        文件区域（即剪辑信息或某个轨道的头部）。此选项可多次使用，以同时修改多个元素。
                        
                     </p>
                     
                     
                     <p>
                        默认情况下，<span class="productname">mkvpropedit</span>(1) 将编辑剪辑信息区段。
                        
                     </p>
                     
                     
                     <p>
                        关于完整的语法说明请参见关于 <a href="#mkvpropedit.edit_selectors">编辑选择器</a> 的段落。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.add"><span class="option">-a</span>, <span class="option">--add</span>
                        <span class="parameter">名称</span>=<span class="parameter">数值</span></a></td>
                  <td>
                     
                     <p>
                        添加名为 <span class="parameter">名称</span>、值为 <span class="parameter">数值</span>
                        的属性。即使已存在这样的属性，也将执行添加属性操作。注意大多数属性是唯一的，不能出现多个。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.set"><span class="option">-s</span>, <span class="option">--set</span>
                        <span class="parameter">名称</span>=<span class="parameter">数值</span></a></td>
                  <td>
                     
                     <p>
                        设置所有名为 <span class="parameter">名称</span> 的属性的数值为
                        <span class="parameter">数值</span>。如果不存在这样的属性，则将添加该属性。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.delete"><span class="option">-d</span>, <span class="option">--delete</span> <span class="parameter">名称</span></a></td>
                  <td>
                     
                     <p>
                        删除所有名为 <span class="parameter">名称</span> 的属性。注意部分属性是必需的，不能删除。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <p>
            Actions that deal with tags and chapters:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.tags"><span class="option">-t</span>, <span class="option">--tags</span>
                        <span class="parameter">选择器</span>:<span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        用 <span class="filename">文件名</span> 中的标签添加或替换文件中的标签，或者如果 <span class="filename">文件名</span>
                        为空则移除标签。<span class="productname">mkvpropedit</span>(1) 读取的 XML 标签格式与 <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a> 所读取的相同。
                        
                     </p>
                     
                     
                     <p>
                        <span class="parameter">选择器</span> 必须是
                        <span class="constant">all</span>、<span class="constant">global</span> 或
                        <span class="constant">track</span> 之一。对于<span class="constant">all</span> 选择器，<span class="productname">mkvpropedit</span>(1)
                        将替换或移除文件中的所有标签。对于 <span class="constant">global</span> 选择器，将只替换或移除全局标签。
                        
                     </p>
                     
                     
                     <p>
                        对于 <span class="constant">track</span> 选择器，<span class="productname">mkvpropedit</span>(1) 将替换特定轨道的标签。读取自
                        <span class="filename">文件名</span> 的其他标签将分配给相同轨道。轨道与 <a href="#mkvpropedit.edit_selectors">编辑选择器</a> 以相同格式指定 (参见下文)，如
                        <span class="code">--tags track:a1:新音频标签.xml</span>。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.chapters"><span class="option">-c</span>, <span class="option">--chapters</span> <span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        用 <span class="filename">文件名</span> 中的标签添加或替换文件中的章节，或者如果 <span class="filename">文件名</span>
                        为空则移除章节。<span class="productname">mkvpropedit</span>(1) 读取的 XML 及简单章节格式与 <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a> 所读取的相同。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <p>
            Actions for handling attachments:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.add_attachment"><span class="option">--add-attachment</span> <span class="parameter">filename</span></a></td>
                  <td>
                     
                     <p>
                        Adds a new attachment from <span class="parameter">filename</span>.
                        
                     </p>
                     
                     
                     <p>
                        If the option <span class="option">--attachment-name</span> has been used prior to this
                        option then its value is used as the new attachment's name. Otherwise it is
                        derived from <span class="parameter">filename</span>.
                        
                     </p>
                     
                     
                     <p>
                        If the option <span class="option">--attachment-mime-type</span> has been used prior to
                        this option then its value is used as the new attachment's MIME
                        type. Otherwise it is auto-detected from the content of
                        <span class="parameter">filename</span>.
                        
                     </p>
                     
                     
                     <p>
                        If the option <span class="option">--attachment-description</span> has been used prior
                        to this option then its value is used as the new attachment's
                        description. Otherwise no description will be set.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.replace_attachment"><span class="option">--replace-attachment</span>
                        <span class="parameter">selector</span><span class="literal">:</span><span class="parameter">filename</span></a></td>
                  <td>
                     
                     <p>
                        Replaces one or more attachments that match <span class="parameter">selector</span>
                        with the file <span class="parameter">filename</span>. If more than one existing
                        attachment matches <span class="parameter">selector</span> then all of their
                        contents will be replaced by the content of <span class="parameter">filename</span>.
                        
                     </p>
                     
                     
                     <p>
                        The <span class="parameter">selector</span> can have one of four forms. They're
                        exlained below in the section <a href="#mkvpropedit.attachment_selectors">attachment selectors</a>.
                        
                     </p>
                     
                     
                     <p>
                        If the option <span class="option">--attachment-name</span> has been used prior to this
                        option then its value is used as the replaced attachment's name. Otherwise
                        the name is not changed.
                        
                     </p>
                     
                     
                     <p>
                        If the option <span class="option">--attachment-mime-type</span> has been used prior to
                        this option then its value is used as the replaced attachment's MIME
                        type. Otherwise the MIME type is not changed.
                        
                     </p>
                     
                     
                     <p>
                        If the option <span class="option">--attachment-description</span> has been used prior
                        to this option then its value is used as the replaced attachment's
                        description. Otherwise no description is not changed.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.delete_attachment"><span class="option">--delete-attachment</span> <span class="parameter">selector</span></a></td>
                  <td>
                     
                     <p>
                        Deletes one or more attachments that match <span class="parameter">selector</span>.
                        
                     </p>
                     
                     
                     <p>
                        The <span class="parameter">selector</span> can have one of four forms. They're
                        exlained below in the section <a href="#mkvpropedit.attachment_selectors">attachment selectors</a>.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <p>
            Options for attachment actions:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.attachment_name"><span class="option">--attachment-name</span> <span class="parameter">名称</span></a></td>
                  <td>
                     
                     <p>
                        Sets the name to use for the following <span class="option">--add-attachment</span> or
                        <span class="option">--replace-attachment</span> operation.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.attachment_mime_type"><span class="option">--attachment-mime-type</span> <span class="parameter">mime-type</span></a></td>
                  <td>
                     
                     <p>
                        Sets the MIME type to use for the following
                        <span class="option">--add-attachment</span> or <span class="option">--replace-attachment</span>
                        operation.
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.attachment_description"><span class="option">--attachment-description</span> <span class="parameter">描述</span></a></td>
                  <td>
                     
                     <p>
                        Sets the description to use for the following
                        <span class="option">--add-attachment</span> or <span class="option">--replace-attachment</span>
                        operation.
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         <p>
            其他选项：
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.command_line_charset"><span class="option">--command-line-charset</span> <span class="parameter">字符集</span></a></td>
                  <td>
                     
                     <p>
                        设定在命令行给出的字符串的字符集，用于转为其他字符集。默认为系统当前区域设置中所给定的字符集。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.output_charset"><span class="option">--output-charset</span> <span class="parameter">字符集</span></a></td>
                  <td>
                     
                     <p>
                        设置输出的字符串应被转换到何种字符集。默认为系统当前区域设置中所给定的字符集。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.redirect_output"><span class="option">-r</span>, <span class="option">--redirect-output</span>
                        <span class="parameter">文件名</span></a></td>
                  <td>
                     
                     <p>
                        将所有信息写入文件 <span class="parameter">文件名</span> 而不是输出到命令行。
                        尽管该操作可以用输出重定向轻松实现，但在某些情况下还需要靠它：如当终端在写入文件之前重新解释（覆盖输出）时。将优先使用通过 <a href="#mkvpropedit.description.output_charset">--output-charset</a>
                        设定的字符集。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.ui_language"><span class="option">--ui-language</span> <span class="parameter">语言代码</span></a></td>
                  <td>
                     
                     <p>
                        强制使用语言代码为 <span class="parameter">语言代码</span> 的翻译（如  '<span class="literal">de_DE</span>'
                        对应德文翻译）。使用 <span class="varname">LANG</span>, <span class="varname">LC_MESSAGES</span> 及
                        <span class="varname">LC_ALL</span> 这些环境变量更好。如果在 <span class="parameter">语言代码</span> 处输入
                        '<span class="literal">list</span>'，<a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a> 将输出可用翻译列表。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.debug"><span class="option">--debug</span> <span class="parameter">主题</span></a></td>
                  <td>
                     
                     <p>
                        为特定功能开启调试。该选项仅对开发者有用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><a name="mkvpropedit.description.engage"><span class="option">--engage</span> <span class="parameter">功能</span></a></td>
                  <td>
                     
                     <p>
                        开启实验性功能。可用功能列表可通过 <span class="command">mkvpropedit --engage list</span>
                        得到。这些功能在正常情况下不应该使用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-v</span>, <span class="option">--verbose</span></td>
                  <td>
                     
                     <p>
                        使输出信息更详尽，且每当读取到重要的 <span class="productname">Matroska</span><sup>(tm)</sup> 元素时就将其显示。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-h</span>, <span class="option">--help</span></td>
                  <td>
                     
                     <p>
                        显示用法信息并退出。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">-V</span>, <span class="option">--version</span></td>
                  <td>
                     
                     <p>
                        显示版本信息并退出。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">--check-for-updates</span></td>
                  <td>
                     
                     <p>
                        Checks online for new releases by downloading the URL <a href="http://mkvtoolnix-releases.bunkus.org/latest-release.xml">http://mkvtoolnix-releases.bunkus.org/latest-release.xml</a>.
                        Four lines will be output in <span class="literal">key=value</span> style: the URL
                        from where the information was retrieved (key
                        <span class="literal">version_check_url</span>), the currently running version (key
                        <span class="literal">running_version</span>), the latest release's version (key
                        <span class="literal">available_version</span>) and the download URL (key
                        <span class="literal">download_url</span>).
                        
                     </p>
                     
                     
                     <p>
                        若无更新版本可用，程序将以退出码 0 退出，若有更新版本可用，退出码为 1，若出现错误（如无法检索更新信息），退出码则为 2。
                        
                     </p>
                     
                     
                     <p>
                        此选项仅当程序附带 libcurl 支持编译时可用。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">@</span><span class="parameter">选项文件</span></td>
                  <td>
                     
                     <p>
                        从文件 <span class="parameter">选项文件</span> 中读取额外的命令行参数。首个非空白字符为井号
                        ('<span class="literal">#</span>') 的行将被当作注释对待，在处理过程中将被忽略。各行开头与结尾的空白将被除去。各行必须恰好仅含一个选项。
                        
                     </p>
                     
                     
                     <p>
                        有些字符可以转义，如当您需要使用 '#' 作为一个不是评论的行的开头。规则在<a href="#mkvpropedit.escaping">关于转义文本的段落</a>有描述。
                        
                     </p>
                     
                     
                     <p>
                        命令行 '<span class="command">mkvpropedit 源.mkv --edit track:a2 --set name=注释</span>'
                        可以转换为下述选项文件:
                        
                     </p>
                     
                     <pre class="programlisting"># Modify source.mkv
source.mkv
# Edit the second audio track
--edit
track:a2
# and set the title to 'Comments'
--set
name=Comments</pre>
                     </td>
               </tr>
            </tbody>
         </table>
         
         <h1><a name="mkvpropedit.edit_selectors">3. 编辑选择器</a></h1>
         
         
         <p>
            <a href="#mkvpropedit.description.edit">--edit</a>
            选项设置后续的 <a href="#mkvpropedit.description.add">添加</a>, <a href="#mkvpropedit.description.set">设置</a> 或 <a href="#mkvpropedit.description.delete">删除</a> 操作所影响的 <span class="productname">Matroska</span><sup>(tm)</sup>
            文件区域（剪辑信息或者特定轨道的头部）。在出现另一个 <a href="#mkvpropedit.description.edit">--edit</a>
            选项之前，此选项将一直有效。此选项的参数就叫做编辑选择器。
            
         </p>
         
         
         <p>
            默认情况下，<span class="productname">mkvpropedit</span>(1) 将编辑剪辑信息区段。
            
         </p>
         
         
         <h2><a name="mkvpropedit.edit_selectors.segment_info">3.1. 剪辑信息</a></h2>
         
         
         <p>
            可以通过这三个词中的任意一个选择剪辑信息:
            '<span class="literal">info</span>'、'<span class="literal">segment_info</span>' 或
            '<span class="literal">segmentinfo</span>'。剪辑信息包含的属性包括剪辑标题、剪辑 <span class="abbrev">UID</span> 等。
            
         </p>
         
         
         
         <h2><a name="mkvpropedit.edit_selectors.track_headers">3.2. 轨道头部</a></h2>
         
         
         <p>
            可用于选择轨道头部的选择器稍显复杂：所有以 '<span class="literal">track:</span>' 开头的变体。轨道头部属性包括如语言代码、'默认轨'
            标记、轨道名称等属性。
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="option">track:</span><span class="parameter">n</span></td>
                  <td>
                     
                     <p>
                        如果参数 <span class="parameter">n</span> 为数字，则将选择第 <span class="parameter">n</span> 条轨道。轨道顺序与
                        <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a> 的 <span class="option">--identify</span> 选项所输出的相同。
                        
                     </p>
                     
                     
                     <p>
                        编号从 1 开始。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">track:</span><span class="parameter">t</span><span class="parameter">n</span></td>
                  <td>
                     
                     <p>
                        如果参数以字母 <span class="parameter">t</span> 后接 <span class="parameter">n</span>
                        开头，则将选择选定轨道类型中的第 <span class="parameter">n</span> 条轨道。轨道类型参数
                        <span class="parameter">t</span> 必须为下述四个字母中的一个: '<span class="literal">a</span>'
                        代表音频轨道，'<span class="literal">b</span>' 代表按钮轨道，'<span class="literal">s</span>'
                        代表字幕轨道，'<span class="literal">v</span>' 代表视频轨道。轨道顺序与 <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a> 的
                        <span class="option">--identify</span> 选项所输出的相同。
                        
                     </p>
                     
                     
                     <p>
                        编号从 1 开始。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">track:</span>=<span class="parameter">uid</span></td>
                  <td>
                     
                     <p>
                        如果参数以 '<span class="literal">=</span>' 后接 <span class="parameter">uid</span> 开头，则将选择轨道
                        <span class="abbrev">UID</span> 元素等于此 <span class="parameter">uid</span> 的轨道。轨道
                        <span class="abbrev">UID</span> 可通过 <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> 获取。
                        
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="option">track:</span>@<span class="parameter">数字</span></td>
                  <td>
                     
                     <p>
                        如果参数以 '<span class="literal">@</span>' 后接 <span class="parameter">数字</span> 开头，则选择轨道号元素等于
                        <span class="parameter">数字</span> 的轨道。轨道号可以通过 <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a> 获取。
                        
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         
         
         <h2><a name="mkvpropedit.edit_selectors.notes">3.3. 注</a></h2>
         
         
         <p>
            由于轨道编辑选择器的特性，一些选择器所匹配的轨道头部可能是相同的。在此情况下，这些编辑选择器的所有操作将被按照在命令行给出的顺序合并运行。
            
         </p>
         
         
         <h1><a name="mkvpropedit.attachment_selectors">4. Attachment selectors</a></h1>
         
         
         
         <p>
            An attachment selector is used with the two actions <a href="#mkvpropedit.description.replace_attachment">--replace-attachment</a>
            and <a href="#mkvpropedit.description.delete_attachment">--delete-attachment</a>.
            It can have one of the following four forms:
            
         </p>
         
         
         <ol>
            
            <li>
               
               <p>
                  Selection by attachment ID. In this form the selector is simply a number,
                  the attachment's ID as output by <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a>'s identification command.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Selection by attachment UID (unique ID). In this form the selector is the
                  equal sign <span class="literal">=</span> followed by a number, the attachment's
                  unique ID as output by <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a>'s verbose identification command.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Selection by attachment name. In this form the selector is the literal word
                  <span class="literal">name:</span> followed by the existing attachment's name. If this
                  selector is used with <span class="option">--replace-attachment</span> then colons
                  within the name to match must be escaped as <span class="literal">\c</span>.
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  Selection by MIME type. In this form the selector is the literal word
                  <span class="literal">mime-type:</span> followed by the existing attachment's MIME
                  type. If this selector is used with <span class="option">--replace-attachment</span>
                  then colons within the MIME type to match must be escaped as
                  <span class="literal">\c</span>.
                  
               </p>
               
            </li>
            
         </ol>
         
         <h1><a name="mkvpropedit.examples">5. 示例</a></h1>
         
         
         <p>
            下面的示例将编辑一个名为 '<span class="literal">电影.mkv</span>'
            的文件。示例中将设置剪辑标题并修改一条音频轨和一条字幕轨的语言代码。附注，本示例可以简写，即省去 <a href="#mkvpropedit.description.edit">--edit</a>
            选项，因为在第一个 <a href="#mkvpropedit.description.edit">--edit</a>
            选项之前的所有选项默认编辑的就是剪辑信息元素。
            
         </p>
         
         <pre class="screen">$ mkvpropedit 影片.mkv --edit info --set "title=一部影片" --edit track:a1 --set language=fre --edit track:a2 --set language=ita</pre>
         
         <p>
            第二个示例，将 '默认轨标记' 从第一条字幕轨移除并设置到第二条字幕轨上。注意 <span class="productname">mkvpropedit</span>(1) 与 <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a>
            不同，不会在将另一个轨道的 '默认轨标记'设为 '1' 的时候自动将其他轨道的标记设为 '0'。
            
         </p>
         
         <pre class="screen">$ mkvpropedit 影片.mkv --edit track:s1 --set flag-default=0 --edit track:s2 --set flag-default=1</pre>
         
         <p>
            像这样替换文件中第二个字幕轨的标签:
            
         </p>
         
         <pre class="screen">$ mkvpropedit 影片.mkv --tags track:s2:新字幕标签.xml</pre>
         
         <p>
            移除所有标签需要将文件名留空:
            
         </p>
         
         <pre class="screen">$ mkvpropedit 影片.mkv --tags all:</pre>
         
         <p>
            像这样替换文件中的章节:
            
         </p>
         
         <pre class="screen">$ mkvpropedit 影片.mkv --chapters 新章节.xml</pre>
         
         <p>
            移除所有章节需要将文件名留空:
            
         </p>
         
         <pre class="screen">$ mkvpropedit 影片.mkv --chapters ''</pre>
         
         <p>
            Adding a font file (<span class="literal">Arial.ttf</span>) as an attachment:
            
         </p>
         
         <pre class="screen">$ mkvpropedit movie.mkv --add-attachment Arial.ttf</pre>
         
         <p>
            Adding a font file (<span class="literal">89719823.ttf</span>) as an attachment and
            providing some information as it really is just Arial:
            
         </p>
         
         <pre class="screen">$ mkvpropedit movie.mkv --attachment-name Arial.ttf --attachment-description 'The Arial font as a TrueType font' --attachment-mime-type application/x-truetype-font --add-attachment 89719823.ttf</pre>
         
         <p>
            Replacing one attached font (<span class="literal">Comit.ttf</span>) file with another
            one (<span class="literal">Arial.ttf</span>):
            
         </p>
         
         <pre class="screen">$ mkvpropedit movie.mkv --attachment-name Arial.ttf --attachment-description 'The Arial font as a TrueType font' --replace-attachment name:Comic.ttf:Arial.ttf</pre>
         
         <p>
            Deleting the second attached file, whatever it may be:
            
         </p>
         
         <pre class="screen">$ mkvpropedit movie.mkv --delete-attachment 2</pre>
         
         <p>
            Deleting all attached fonts by MIME type:
            
         </p>
         
         <pre class="screen">$ mkvpropedit movie.mkv --delete-attachment mime-type:application/x-truetype-font</pre>
         <h1><a name="d4e1327">6. 退出代码</a></h1>
         
         
         
         <p>
            <span class="productname">mkvpropedit</span>(1) 退出时会返回以下三个退出代码中的一个：
            
         </p>
         
         
         <ul>
            
            <li>
               
               <p>
                  <span class="constant">0</span> -- 此退出代码说明已成功完成修改。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">1</span> -- 这种情况下 <span class="productname">mkvpropedit</span>(1) 至少输出了一条警告信息，但修改并未因之中止。 警告信息以文字
                  '<span class="literal">警告:</span>' 为前缀。根据问题的不同，生成的文件可能是好的，也可能不是。 强烈建议用户检查警告信息以及生成的文件。
                  
               </p>
               
            </li>
            
            
            <li>
               
               <p>
                  <span class="constant">2</span> -- 此退出代码用于错误发生之后。 <span class="productname">mkvpropedit</span>(1)
                  在输出错误信息后即中断处理。错误信息可能是错误的命令行参数，也可能是损坏文件的读取/写入错误。
                  
               </p>
               
            </li>
            
         </ul>
         
         <h1><a name="mkvpropedit.escaping">7. 文本中特殊字符的转义</a></h1>
         
         
         <p>
            有时文本中的特殊字符必须或应该转义。转义规则很简单: 用反斜杠后接一字符替换需要转义的各字符。
            
         </p>
         
         
         <p>
            规则为: ' ' (空格) 变为 '\s'、'"' (双引号) 变为 '\2'、':' 变为 '\c'、'#' 变为 '\h'，而 '\'
            (单个反斜杠) 自己则变为 '\\'。
            
         </p>
         
         <h1><a name="mkvpropedit.environment_variables">8. 环境变量</a></h1>
         
         
         
         <p>
            <span class="productname">mkvpropedit</span>(1) 会使用决定系统区域设置的默认变量 (如 <span class="varname">LANG</span> 与
            <span class="varname">LC_*</span> 族)。其他变量包括:
            
         </p>
         
         
         <table class="variablelist">
            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVTOOLNIX_DEBUG</span> 及其缩写形式 <span class="varname">MTX_DEBUG</span></td>
                  <td>
                     
                     <p>内容将被当作通过 <a href="#mkvpropedit.description.debug">--debug</a>
                        选项传递的参数对待。
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVTOOLNIX_ENGAGE</span> 及其缩写形式 <span class="varname">MTX_ENGAGE</span></td>
                  <td>
                     
                     <p>内容将被当作通过 <a href="#mkvpropedit.description.engage">--engage</a>
                        选项传递的参数对待。
                     </p>
                     
                  </td>
               </tr>
               <tr>
                  <td class="varlistoption"><span class="varname">MKVTOOLNIX_OPTIONS</span> 及其缩写形式 <span class="varname">MTX_OPTIONS</span></td>
                  <td>
                     
                     <p>内容将在空白处切割。最终得到的字符串部分将按命令行选项的格式处理。如果您需要传递特殊字符 (如空白) 则需要转义 (参见<a href="#mkvpropedit.escaping">关于转义文本中特殊字符的段落</a>)。
                     </p>
                     
                  </td>
               </tr>
            </tbody>
         </table>
         
         <h1><a name="mkvpropedit.seealso">9. 参阅</a></h1>
         
         
         <p>
            <a href="mkvmerge.html"><span class="productname">mkvmerge</span>(1)</a>, <a href="mkvinfo.html"><span class="productname">mkvinfo</span>(1)</a>, <a href="mkvextract.html"><span class="productname">mkvextract</span>(1)</a>, <a href="mmg.html"><span class="productname">mmg</span>(1)</a>
            
         </p>
         
         <h1><a name="mkvpropedit.www">10. 网络</a></h1>
         
         
         <p>
            最新版本总可以在 <a href="http://www.bunkus.org/videotools/mkvtoolnix/">MKVToolNix 主页</a> 找到。
            
         </p>
         
      </div>
   </body>
</html>